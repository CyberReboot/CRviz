(this.webpackJsonpCRviz=this.webpackJsonpCRviz||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"m",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"e",(function(){return v})),n.d(t,"k",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"i",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"d",(function(){return x}));var a,r=n(3),s=n(2),o=n(16),i=n(161),c=Object(o.a)("SET_CONTROLS"),l=Object(o.a)("SET_START_DATASET"),d=Object(o.a)("SET_END_DATASET"),u=Object(o.a)("SET_HIERARCHY_CONFIG"),h=Object(o.a)("SHOW_NODES"),p=Object(o.a)("USE_DARK_THEME"),b=Object(o.a)("COLOR_BY"),f=Object(o.a)("SHOW_BUSY"),j=Object(o.a)("POSITION"),O=Object(o.a)("SETSELECTEDDATUM"),g=Object(i.a)((a={},Object(r.a)(a,c,(function(e,t){var n=t.payload,a=n.hierarchyConfig||e.hierarchyConfig,r="shouldShowNodes"in n?!!n.shouldShowNodes:e.shouldShowNodes,o="darkTheme"in n?!!n.darkTheme:e.darkTheme,i=n.colorBy||e.colorBy,c=n.start||e.start,l=n.end||e.end,d="showBusy"in n?!!n.showBusy:e.showBusy,u=n.position||e.position;return Object(s.a)(Object(s.a)({},e),{},{hierarchyConfig:a,shouldShowNodes:r,darkTheme:o,colorBy:i,start:c,end:l,showBusy:d,position:u})})),Object(r.a)(a,l,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{start:n})})),Object(r.a)(a,d,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{end:n})})),Object(r.a)(a,u,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{hierarchyConfig:n})})),Object(r.a)(a,h,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{shouldShowNodes:!!n})})),Object(r.a)(a,p,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{darkTheme:!!n})})),Object(r.a)(a,b,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{colorBy:n})})),Object(r.a)(a,f,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{showBusy:!!n})})),Object(r.a)(a,j,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{position:n})})),Object(r.a)(a,O,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{selectedDatum:n})})),a),{hierarchyConfig:[],shouldShowNodes:!0,darkTheme:!1,colorBy:null,start:null,end:null,showBusy:!1,position:[0,0],datum:null}),v=function(e){return e.controls},m=function(e){return e.controls.position},x=function(e){return e.controls.selectedDatum};t.b=g},153:function(e,t,n){e.exports={listContainer:"AvailableFieldList_listContainer__36HdH",draggableContainer:"AvailableFieldList_draggableContainer__1jpWJ",dragForeignContainer:"AvailableFieldList_dragForeignContainer__qUoBZ",isDraggingOver:"AvailableFieldList_isDraggingOver__jXTLo",field:"AvailableFieldList_field__1IO-f",dragForeign:"AvailableFieldList_dragForeign__1vOCf",groupBy:"AvailableFieldList_groupBy__1kSPM",fieldName:"AvailableFieldList_fieldName__33I5k"}},159:function(e,t,n){e.exports={infoPopup:"ComparisonSelector_infoPopup__240Ac",dupeContainer:"ComparisonSelector_dupeContainer__3C0-X",infoIcon:"ComparisonSelector_infoIcon__3NchJ"}},187:function(e,t,n){e.exports={tags:"NoteSelector_tags__3AR7F",tag:"NoteSelector_tag__1vpw2"}},188:function(e,t,n){e.exports={searchControls:"SearchControls_searchControls__380ec",searchContainer:"SearchControls_searchContainer__3RTnY",search:"SearchControls_search__3qDXJ",label:"SearchControls_label__71Clh"}},246:function(e,t,n){e.exports={viz:"Visualization_viz__3VNKp",delta:"Visualization_delta__1VBcx",plus:"Visualization_plus__3RYhX",minus:"Visualization_minus__Xc-kq",nag:"Visualization_nag__IglHw",fadein:"Visualization_fadein__3i5Vd"}},248:function(e){e.exports=JSON.parse('[{"name":"Sample: 400 nodes","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/400.json"},{"name":"Sample: 1400 nodes","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/1400.json"},{"name":"Sample: 4000 nodes","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/4000.json"},{"name":"Sample: 500 nodes s0","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/500_s0.json"},{"name":"Sample: 500 nodes s1","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/500_s1.json"},{"name":"Sample: 500 nodes s2","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/500_s2.json"},{"name":"Sample: 1500 nodes s0","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/1500_s0.json"},{"name":"Sample: 1500 nodes s1","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/1500_s1.json"},{"name":"Sample: 1500 nodes s2","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/1500_s2.json"},{"name":"Sample: 5000 nodes s0","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/5000_s0.json"},{"name":"Sample: 5000 nodes s1","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/5000_s1.json"},{"name":"Sample: 5000 nodes s2","url":"https://raw.githubusercontent.com/iqtlabs/CRviz/master/sample_data/5000_s2.json"}]')},27:function(e,t,n){e.exports={dataControls:"DatasetControls_dataControls__1C_oE",dataControlHeader:"DatasetControls_dataControlHeader__M1Y_F",selectorContainer:"DatasetControls_selectorContainer__2nmta",uploadContainer:"DatasetControls_uploadContainer__jUCTm",selector:"DatasetControls_selector__2We24",fileUpload:"DatasetControls_fileUpload__Gh_NX",label:"DatasetControls_label__erBn9",utilityContainer:"DatasetControls_utilityContainer__3J6Cj",fileDownload:"DatasetControls_fileDownload__2Kg7m",urlRefreshContainer:"DatasetControls_urlRefreshContainer__3bBD3",datasetSourceContainer:"DatasetControls_datasetSourceContainer__30ylz",urlRefresh:"DatasetControls_urlRefresh__2CHTE",urlContainer:"DatasetControls_urlContainer__2VTWM",urlRefreshTime:"DatasetControls_urlRefreshTime__2xMdM",modal:"DatasetControls_modal__jdZ5v",modalMain:"DatasetControls_modalMain__1QrQI",centerSpan:"DatasetControls_centerSpan__owgfw",sliderContainer:"DatasetControls_sliderContainer__Jh2f5",sliderSelectedScale:"DatasetControls_sliderSelectedScale__3JlNa",slider:"DatasetControls_slider__1d372",sliderScale:"DatasetControls_sliderScale__2amAl",sliderThumb:"DatasetControls_sliderThumb__QDuM1",sliderThumbMin:"DatasetControls_sliderThumbMin__vJPNc",sliderThumbMax:"DatasetControls_sliderThumbMax__1oeoU",slot:"DatasetControls_slot__1gnzO",scaleMark:"DatasetControls_scaleMark__1kqtT",slotScale:"DatasetControls_slotScale__2jOq8",line:"DatasetControls_line__1dPZF",lineSelected:"DatasetControls_lineSelected__2tN_e"}},289:function(e,t,n){},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return j})),n.d(t,"j",(function(){return h})),n.d(t,"e",(function(){return O})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return g}));var a,r=n(3),s=n(2),o=n(31),i=n(16),c=n(161),l=Object(i.a)("ADD_NOTE"),d=Object(i.a)("SET_NOTE"),u=Object(i.a)("REMOVE_NOTE"),h=Object(i.a)("TOGGLE_NOTES_HOVER"),p=Object(i.a)("SET_HOVERED_NOTED"),b=Object(c.a)((a={},Object(r.a)(a,l,(function(e,t){var n=t.payload;return{byId:[].concat(Object(o.a)(e.byId),[n.id]),byHash:Object(s.a)(Object(s.a)({},e.byHash),{},Object(r.a)({},n.id,n))}})),Object(r.a)(a,u,(function(e,t){var n=t.payload,a=e.byId.filter((function(e){return e!==n.id}));return delete e.byHash[n.id],{byId:a,byHash:e.byHash}})),Object(r.a)(a,d,(function(e,t){var n=t.payload,a=n.byId||e.byId,r=n.byHash||e.byHash;return Object(s.a)(Object(s.a)({},e),{},{byId:a,byHash:r})})),Object(r.a)(a,h,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{hoverStatus:n})})),Object(r.a)(a,p,(function(e,t){var n=t.payload;return Object(s.a)(Object(s.a)({},e),{},{hoveredNoteId:n})})),a),{byId:[],byHash:{},hoverStatus:!1,hoveredNoteId:""}),f=function(e){return e.notes.byHash},j=function(e){return e.notes},O=function(e){return e.notes.hoverStatus},g=function(e){return e.notes.hoveredNoteId};t.b=b},36:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l}));var a,r=n(3),s=n(2),o=n(16),i=n(161),c=Object(o.a)("SET_ERROR"),l=Object(o.a)("CLEAR_ERROR"),d=Object(i.a)((a={},Object(r.a)(a,c,(function(e,t){var n=t.payload;if(n instanceof Error){var a=n;return Object(s.a)(Object(s.a)({},e),{},{error:a})}return Object(s.a)({},e)})),Object(r.a)(a,l,(function(e){return Object(s.a)(Object(s.a)({},e),{},{error:null})})),a),{error:null}),u=function(e){return e.error.error};t.b=d},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return x})),n.d(t,"h",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return m}));var a=n(2),r=n(121),s=n(122),o=n(496),i=n(92),c=n(76),l=n(65),d=n(5),u=n(184),h="BUILD_INDICES",p="BUILD_INDICES_SUCCESS",b="REMOVE_SEARCH_INDEX",f="SET_SEARCH_RESULTS",j=function(e){return{type:h,payload:e}},O=function(e){return{type:b,payload:e}},g=function(e){return{type:f,payload:e}},v=function(e){return e.search.searchResults||[]},m=function(e){return e.search.queryString},x=function(e){return e.search.searchIndices||[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchIndices:{},queryString:"",searchResults:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.payload.forEach((function(t){e.searchIndices[t.owner]=t.index})),Object(a.a)({},e);case f:var n=t.payload.results,r=t.payload.queryString;return Object(a.a)(Object(a.a)({},e),{},{searchResults:n,queryString:r});case b:var s=t.payload.owner;return e.searchIndices.hasOwnProperty(s)&&delete e.searchIndices[s],Object(a.a)({},e);default:return e}},C=function(e){var t=[];return Object.keys(e.datasets).forEach((function(n){var a=e.datasets[n].dataset,r=Object(s.a)(e.datasets[n].configuration)||Object(o.a)(e.datasets[n].configuration)?Object(d.a)(a):e.datasets[n].configuration,i=function(e,t){var n=[];if(Object(s.a)(t))return n;for(var a in e){var r={CRVIZ_SEARCH_KEY:e[a].CRVIZ._SEARCH_KEY};for(var o in t.fields){var i=t.fields[o];r[i.displayName.toLowerCase()]=S(e[a],i.path)}n.push(r)}return n}(a,r),c=u((function(){var e=this;(this.ref("CRVIZ_SEARCH_KEY"),r&&r.fields)&&r.fields.filter((function(e){return!e.displayName.includes("/")})).map((function(t){return e.field(t.displayName.toLowerCase())}));i.map((function(t){return e.add(t)}))}));t.push({owner:n,index:c})})),t},S=function(e,t){if(e&&t.length>0){for(var n=e[t[0]],a=1;a<t.length;a++){if(!n[t[a]])return null;n=n[t[a]]}return n}return null};t.b=function(e,t){return e.pipe(Object(r.a)(h),Object(c.a)((function(e){var t=e.payload;return Object(i.a)(t).pipe(Object(l.a)(C),Object(l.a)((function(e){return function(e){return{type:p,payload:e}}(e)})))})))}},483:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n.n(r),o=n(55),i=n.n(o),c=n(17),l=(n(289),n(3)),d=n(23),u=n(24),h=n(26),p=n(25),b=n(32),f=n.n(b),j=n(75),O=n.n(j),g=n(533),v=n(249),m=n(7),x=n(8),y=n(5),C=n(11),S=n(29),w=n(36),_=n(37),N=n(16),k=n(92),A=n(13),I=n(76),R=n(490),D=n(65),E=n(255),F=n(89),T=Object(N.a)("UPLOAD_DATASET"),U=function(e,t,n,a,r,s,o){return A.a.create((function(i){var c=o.name,l=new window.FileReader;l.addEventListener("load",(function(){i.next({owner:e,name:t,shortName:n,source:c,includeData:a,includeControls:r,includeNotes:s,file:l.result}),i.complete()})),l.addEventListener("error",(function(){i.error(l.error),i.complete()})),l.readAsText(o)}))},M=function(e){return{owner:e.owner,name:e.name,shortName:e.shortName,source:e.source,content:JSON.parse(e.file),includeData:!("includeData"in e)||e.includeData,includeControls:"includeControls"in e&&e.includeControls,includeNotes:"includeNotes"in e&&e.includeNotes}},V=function(e,t){return e.ofType(T.toString()).pipe(Object(I.a)((function(e){var t=e.payload.owner,n=e.payload.name,a=e.payload.shortName,r=e.payload.file,s=!("includeData"in e.payload)||e.payload.includeData,o="includeControls"in e.payload&&e.payload.includeControls,i="includeNotes"in e.payload&&e.payload.includeNotes;return U(t,n,a,s,o,i,r).pipe(Object(R.a)(500),Object(D.a)(F.a),Object(D.a)(M),Object(D.a)(F.c),Object(E.a)((function(e){if(e instanceof SyntaxError){var t=new Error("Invalid JSON.");return Object(k.a)(Object(w.d)(t))}throw e})))})))},H=n(152),z=n.n(H),Z=n(158),L=n(93),B=n.n(L),P=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={showInfo:!1},e.hideTooltip=function(){e.setState({showInfo:!1})},e.showTooltip=function(){e.setState({showInfo:!0})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:B.a.header,children:[Object(a.jsx)("a",{href:"http://www.cyberreboot.org/",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("img",{src:"data:image/png;base64,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",className:B.a.logo,alt:"Cyber Reboot"})}),Object(a.jsx)("span",{className:B.a.appName,children:"CRviz"}),Object(a.jsxs)("span",{className:B.a.infoIcon,children:[Object(a.jsx)("label",{id:"showInfo",onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip,children:Object(a.jsx)(m.a,{icon:x.m})}),Object(a.jsxs)(z.a,{active:this.state.showInfo,position:"bottom",parent:"#showInfo",tooltipTimeout:250,children:[Object(a.jsxs)("div",{className:B.a.infoPopup,children:["About CRviz:",Object(a.jsx)("br",{}),"Home: ",Object(a.jsx)("a",{href:"https://www.cyberreboot.org/projects/crviz/",children:"https://www.cyberreboot.org/projects/crviz/"}),Object(a.jsx)("br",{}),"Version: ","0.3.25"," ",Object(a.jsx)("br",{}),"Copyright \xa9 2017-2019 IQT Labs LLC."]}),Object(a.jsxs)("div",{className:B.a.socialContainer,children:[Object(a.jsx)("a",{href:"https://github.com/IQTLabs/",alt:"github.com/IQTLabs",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)(m.a,{color:"#7d7d7d",icon:Z.a})}),Object(a.jsx)("a",{href:"https://twitter.com/_cyberreboot",alt:"twitter.com/_cyberreboot",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)(m.a,{color:"#7d7d7d",icon:Z.c})}),Object(a.jsx)("a",{href:"https://blog.cyberreboot.org/",alt:"blog.cyberreboot.org",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)(m.a,{color:"#7d7d7d",icon:Z.b})})]})]})]})]})}}]),n}(s.a.Component),q=n(44),K=n(494),G=n(122),W=n(190),X=n(507),Y=n(508),J=n(509),Q=n(496),$=n(503),ee=n(504),te=n(113),ne=n(63),ae=n(538),re=n(2);function se(e){var t,n=e.style,r=e.initialItemText,s=e.subsequentItemText,o=e.displayName,i=e.dragIndex,c=e.animated,d=e.provided;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",Object(re.a)(Object(re.a)(Object(re.a)({className:n.draggable,ref:d.innerRef},d.draggableProps),d.dragHandleProps),{},{children:Object(a.jsxs)("div",{className:n.field,children:[Object(a.jsx)("span",{className:f()((t={},Object(l.a)(t,n.groupBy,!0),Object(l.a)(t,n.animated,c),t)),children:0===i?r:s}),Object(a.jsx)("span",{className:n.fieldName,children:o})]})})),d.placeholder]})}var oe=function(e){var t=e.style,n=e.initialItemText,r=e.subsequentItemText,s=e.displayName,o=e.count,i=void 0===o?0:o,c=e.index,l=e.draggableId,d=e.dragIndex,u=e.animated;return Object(a.jsx)(q.b,{draggableId:l,type:"Field",index:c,children:function(e,o){return Object(a.jsx)(se,{style:t,initialItemText:n,subsequentItemText:r,displayName:s+" ("+i+")",dragIndex:d,provided:e,animated:u})}})},ie=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={lastFields:[],toAnimate:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setState({lastFields:this.props.fields})}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.initialItemText,s=t.subsequentItemText,o=t.fields,i=t.values,c=t.getFieldId,l=t.droppableId,d=t.dragState,u=le(l,d);return Object(a.jsx)("div",{className:n.listContainer,children:Object(a.jsx)(q.c,{droppableId:l,type:"Field",children:function(t,h){return Object(a.jsxs)("div",Object(re.a)(Object(re.a)({ref:t.innerRef},t.droppableProps),{},{className:n.droppable,children:[Object(a.jsx)(ce,{style:n,initialItemText:r,subsequentItemText:s,fields:o,values:i,getFieldId:c,droppableId:l,dragState:d,toAnimate:e.state.toAnimate}),u&&d.destination.index!==o.length&&t.placeholder]}))}})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.getFieldId,a=Object($.a)(Object(ee.a)(n),e.fields,t.lastFields)[0];a&&(a=Object(ae.a)(Object(ee.a)(n,a),e.fields)<t.lastFields.length?a:null);return{lastFields:e.fields,toAnimate:a}}}]),n}(s.a.Component);function ce(e){var t=e.fields,n=e.values,r=e.getFieldId,s=e.style,o=e.initialItemText,i=e.subsequentItemText,c=e.droppableId,l=e.dragState,d=e.toAnimate;return Object(Q.a)(t)?null:t.map((function(e,t){var u=r(e),h=d&&r(e)===r(d),p=n[u].length;return Object(a.jsx)(oe,{style:s,initialItemText:o,subsequentItemText:i,draggableId:u,displayName:e.displayName,count:p,index:t,dragIndex:de(c,l,t),animated:h||!1},u)}))}var le=function(e,t){return!Object(G.a)(t)&&Object(te.a)(["destination","droppableId"],t)===e},de=function(e,t,n){if(!le(e,t))return n;var a=t.source,r=t.destination,s=a.index,o=r.index;return a.droppableId!==r.droppableId?n>=o?n+1:n:n===s?o:n<Math.min(s,o)||n>Math.max(s,o)?n:s<o?n-1:n+1};ie.defaultProps={fields:[]};var ue=ie,he=n(488),pe=n(505),be=n(506),fe=n(45);var je=function(e){var t=e.style,n=e.displayName,r=e.index,s=e.draggableId;return Object(a.jsx)(q.b,{draggableId:s,type:"Field",index:r,children:function(e,r){return Object(a.jsx)("span",{className:t.draggableContainer,children:Object(a.jsx)("span",Object(re.a)(Object(re.a)(Object(re.a)({className:t.field,ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:Object(re.a)(Object(re.a)({},e.draggableProps.style),{},{transform:r.isDragging?e.draggableProps.style.transform:"none"}),children:n}))})}})};function Oe(e){var t=e.style,n=e.fields,r=e.values,s=e.getFieldId,o=e.droppableId,i=e.dragState;return Object(a.jsx)(q.c,{droppableId:o,type:"Field",children:function(e,o){var c,d=ve(i,n,s);return Object(a.jsxs)("div",Object(re.a)(Object(re.a)({className:f()(t.listContainer,(c={},Object(l.a)(c,t.dragForeign,d),Object(l.a)(c,t.isDraggingOver,o.isDraggingOver),c)),ref:e.innerRef},e.droppableProps),{},{children:[!Object(Q.a)(n)&&Object(he.a)(ge(s,r),n).map((function(e,n){var o=s(e),i=r[o].length||0;return Object(a.jsx)(je,{style:t,draggableId:o,displayName:"".concat(e.displayName," (").concat(i,")"),index:n,withPlaceholder:!1},o)})),d&&Object(a.jsx)("div",{className:t.dragForeignContainer,children:Object(a.jsx)("span",{children:Object(a.jsx)(m.a,{icon:x.w})})})]}))}})}var ge=Object(pe.a)((function(e,t,n){return t[e(n)].length})),ve=function(e,t,n){return e&&e.draggableId&&!Object(be.a)(e.draggableId,Object(fe.a)(n,t))};Oe.defaultProps={fields:[]};var me=Oe;var xe=function(e){var t,n=e.style,r=e.initialItemText,s=e.subsequentItemText,o=e.droppableId,i=e.isDropDisabled,c=e.fields;return Object(a.jsx)("div",{className:f()((t={},Object(l.a)(t,n.listContainer,!0),Object(l.a)(t,n.isDropDisabled,i),t)),children:Object(a.jsx)("div",{className:n.draggable,children:Object(a.jsxs)("div",{className:n.field,children:[Object(a.jsx)("span",{className:n.groupBy,children:0===c.length?r:s}),Object(a.jsx)(q.c,{isDropDisabled:i,droppableId:o,type:"Field",children:function(e,t){var r;return Object(a.jsx)("span",Object(re.a)(Object(re.a)({ref:e.innerRef},e.droppableProps),{},{className:f()((r={},Object(l.a)(r,n.dropTarget,!0),Object(l.a)(r,n.isDraggingOver,t.isDraggingOver),r)),children:"Drop attribute here"}))}})]})})})},ye=n(153),Ce=n.n(ye),Se=n(77),we=n.n(Se),_e="SelectedFieldList",Ne="DropTarget",ke=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={dragState:null},e.onDragStart=function(t){e.setState({dragState:t})},e.onDragUpdate=function(t){e.setState({dragState:t})},e.onDragEnd=function(t){var n=t.draggableId,a=t.destination;e.setState({dragState:null}),null!==a&&(a.droppableId===_e?e.updateHierarchy(n,a.index):a.droppableId===Ne?e.updateHierarchy(n,e.props.controls.hierarchyConfig.length):e.removeField(n))},e.updateHierarchy=function(t,n){var a=e.props.configuration.fields,r=e.props.controls.hierarchyConfig,s=Ae(r,t);if(s!==n){var o,i=Object(K.a)((o=t,function(e){return Object(y.d)(e)===o}),a),c=Object(G.a)(s)?W.a:Object(X.a)(s,1),l=Object(Y.a)(n,i),d=Object(J.a)(l,c)(r);e.props.setHierarchyConfig(d)}},e.removeField=function(t){var n=e.props.controls.hierarchyConfig,a=e.props.setHierarchyConfig,r=Ae(n,t);null!==r&&a(Object(X.a)(r,1,n)),0===e.props.controls.hierarchyConfig.length&&e.props.showNodes(!0)},e}return Object(u.a)(n,[{key:"render",value:function(){if(null===this.props.configuration)return null;var e=this.props.controls.hierarchyConfig;if(Object(Q.a)(this.props.configuration.fields))return null;var t=Object($.a)(Object(ee.a)(y.d),this.props.configuration.fields.filter((function(e){return e.groupable})),e),n=this.props.values,r=this.state.dragState;return Object(a.jsx)("div",{children:Object(a.jsxs)(q.a,{onDragStart:this.onDragStart,onDragUpdate:this.onDragUpdate,onDragEnd:this.onDragEnd,children:[Object(a.jsxs)("div",{style:{marginBottom:"2rem"},children:[Object(a.jsx)(ue,{style:we.a,initialItemText:"Group By",subsequentItemText:"Then By",fields:e,values:n,droppableId:_e,getFieldId:y.d,dragState:r}),Object(a.jsx)(xe,{style:we.a,initialItemText:"Group By",subsequentItemText:"Then By",isDropDisabled:Object(te.a)(["source","droppableId"],r)===_e,droppableId:Ne,fields:this.props.controls.hierarchyConfig})]}),Object(a.jsx)(me,{style:Ce.a,fields:t,values:n,droppableId:"AvailableFieldList",getFieldId:y.d,dragState:this.state.dragState})]})})}}]),n}(s.a.Component),Ae=function(e,t){var n=Object(J.a)(Object(ne.a)(t),y.d),a=Object(ae.a)(n,e);return-1===a?null:a},Ie={setHierarchyConfig:C.h,showNodes:C.m},Re=Object(c.b)((function(e){return{configuration:Object(y.m)(e),values:Object(y.n)(e),controls:Object(C.e)(e)}}),Ie)(ke),De=n(121),Ee=n(510),Fe="DIFF_DATASET",Te=function(e){var t=e.start.owner,n=e.start.dataset,a=e.end.owner,r=e.end.dataset,s={added:[],changed:[],removed:[]};return s.added=s.added.concat(r.filter((function(e){return-1===n.findIndex((function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY}))})).map((function(e){return e.CRVIZ._HASH_KEY}))),s.removed=s.removed.concat(n.filter((function(e){return-1===r.findIndex((function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY}))})).map((function(e){return e.CRVIZ._HASH_KEY}))),s.changed=s.changed.concat(r.filter((function(e){return-1!==n.findIndex((function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY&&t.CRVIZ._HASH_WITHOUT_IGNORED!==e.CRVIZ._HASH_WITHOUT_IGNORED}))})).map((function(e){return e.CRVIZ._HASH_KEY}))),{start:t,end:a,differences:s}},Ue=function(e,t){return e.pipe(Object(De.a)(Fe),Object(Ee.a)((function(e){var t=e.payload;return Object(k.a)(t).pipe(Object(D.a)(Te),Object(D.a)((function(e){return Object(y.p)(e)})))})))},Me=n(159),Ve=n.n(Me),He="KeyFieldList",ze="IgnoredFieldList",Ze="KeyTarget",Le="IgnoredTarget",Be=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={dragState:null,showDupeTooltip:!1},e.onDragStart=function(t){e.setState({dragState:t})},e.onDragUpdate=function(t){e.setState({dragState:t})},e.onDragEnd=function(t){var n=t.draggableId,a=t.destination;e.setState({dragState:null}),null!==a&&(a.droppableId===He?e.updateKeyFields(n,a.index):a.droppableId===Ze?e.updateKeyFields(n,e.props.keyFields.length):a.droppableId===ze?e.updateIgnoreFields(n,a.index):a.droppableId===Le?e.updateIgnoreFields(n,e.props.ignoredFields.length):e.removeField(n))},e.getUpdatedFields=function(t,n,a){var r=e.props.configuration.fields,s=Pe(a,t);if(s!==n){var o,i=Object(K.a)((o=t,function(e){return Object(y.d)(e)===o}),r),c=Object(G.a)(s)?W.a:Object(X.a)(s,1),l=Object(Y.a)(n,i);return Object(J.a)(l,c)(a)}},e.updateKeyFields=function(t,n){var a=e.props.keyFields,r=e.props.ignoredFields,s=e.getUpdatedFields(t,n,a);s&&(e.props.setKeyFields(s),e.updateDiff(s,r))},e.updateIgnoreFields=function(t,n){var a=e.props.keyFields,r=e.props.ignoredFields,s=e.getUpdatedFields(t,n,r);s&&(e.props.setIgnoredFields(s),e.updateDiff(a,s))},e.removeField=function(t){var n=e.props.keyFields,a=Pe(n,t),r=e.props.ignoredFields,s=Pe(r,t),o=null,i=null;null!==a&&(o=Object(X.a)(a,1,n),e.props.setKeyFields(o)),null!==s&&(i=Object(X.a)(s,1,r),e.props.setIgnoredFields(i)),(o||i)&&e.updateDiff(o||n,i||r)},e.updateDiff=function(t,n){if(e.props.start&&e.props.end){var a={start:{owner:e.props.startUuid,dataset:e.props.start},end:{owner:e.props.endUuid,dataset:e.props.end},configuration:e.props.configuration,key:t,ignore:n};e.props.diffDataset(a)}},e.showDupeTooltip=function(){e.setState({showDupeTooltip:!0})},e.hideDupeTooltip=function(){e.setState({showDupeTooltip:!1})},e}return Object(u.a)(n,[{key:"render",value:function(){if(null===this.props.configuration)return null;var e=this.props.keyInfo,t=e.reduce((function(e,t){return e+t.duplicateCount}),0),n=this.props.keyFields,r=this.props.ignoredFields,s=n?n.concat(r):[];if(Object(Q.a)(this.props.configuration.fields))return null;var o=Object($.a)(Object(ee.a)(y.d),this.props.configuration.fields.filter((function(e){return e.groupable})),s),i=this.props.values,c=this.state.dragState;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Ve.a.dupeContainer,children:!!t&&Object(a.jsxs)("span",{className:Ve.a.infoIcon,children:[Object(a.jsx)("div",{id:"showDupeInfo",onMouseEnter:this.showDupeTooltip,onMouseLeave:this.hideDupeTooltip,children:Object(a.jsx)(m.a,{icon:x.i,color:"#cc0000"})}),Object(a.jsx)(z.a,{active:this.state.showDupeTooltip,position:"bottom",parent:"#showDupeInfo",tooltipTimeout:250,children:Object(a.jsxs)("div",{className:Ve.a.infoPopup,children:["Keying on the selected field(s) results in duplicate keys.",Object(a.jsx)("br",{}),e.map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("strong",{children:[e.name," "]})," \u2014 ",e.duplicateCount," duplicates ",Object(a.jsx)("br",{})]})})),"This may lead to inaccurate change data being shown. Please verify your key and underlying data."]})})]})}),Object(a.jsxs)(q.a,{onDragStart:this.onDragStart,onDragUpdate:this.onDragUpdate,onDragEnd:this.onDragEnd,children:[Object(a.jsxs)("div",{style:{marginBottom:"2rem"},children:[Object(a.jsx)(ue,{style:we.a,initialItemText:"Key On",subsequentItemText:"And",fields:n,values:i,droppableId:He,getFieldId:y.d,dragState:c}),Object(a.jsx)(xe,{style:we.a,initialItemText:"Key On",subsequentItemText:"And",isDropDisabled:Object(te.a)(["source","droppableId"],c)===He,droppableId:Ze,fields:this.props.keyFields})]}),Object(a.jsxs)("div",{style:{marginBottom:"2rem"},children:[Object(a.jsx)(ue,{style:we.a,initialItemText:"Ignore",subsequentItemText:"And",fields:r,values:i,droppableId:ze,getFieldId:y.d,dragState:c}),Object(a.jsx)(xe,{style:we.a,initialItemText:"Ignore",subsequentItemText:"And",isDropDisabled:Object(te.a)(["source","droppableId"],c)===ze,droppableId:Le,fields:this.props.ignoredFields})]}),Object(a.jsx)(me,{style:Ce.a,fields:o,values:i,droppableId:"AvailableFieldList",getFieldId:y.d,dragState:this.state.dragState})]})]})}}]),n}(s.a.Component),Pe=function(e,t){var n=Object(J.a)(Object(ne.a)(t),y.d),a=Object(ae.a)(n,e);return-1===a?null:a},qe={setKeyFields:y.u,setIgnoredFields:y.s,diffDataset:function(e){return{type:Fe,payload:e}}},Ke=Object(c.b)((function(e,t){var n=Object(y.l)(e),a=Object.keys(n).map((function(e){return{owner:e,name:n[e].name,keyCount:isNaN(n[e].keyCount)?0:n[e].keyCount,uniqueKeyCount:isNaN(n[e].uniqueKeyCount)?0:n[e].uniqueKeyCount,duplicateCount:isNaN(n[e].keyCount-n[e].uniqueKeyCount)?0:n[e].keyCount-n[e].uniqueKeyCount}}));return{start:n[t.startUuid],end:n[t.endUuid],keyInfo:a,keyFields:Object(y.g)(e),ignoredFields:Object(y.e)(e),configuration:Object(y.m)(e),values:Object(y.n)(e)}}),qe)(Be),Ge=n(187),We=n.n(Ge),Xe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).setHoveredNoteId=function(){a.props.hoverMethod(a.props.index),a.props.hoverOn()},a.setClickedNoteId=function(){a.props.hoverMethod(a.props.index),a.props.clickedOn()},a.clicked=!1,a.state={hover:!1},a}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("li",{onClick:this.setClickedNoteId,onMouseEnter:this.setHoveredNoteId,onMouseLeave:this.props.hoverOff,className:We.a.tag,children:this.props.note_title})}}]),n}(s.a.Component),Ye=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).clickedOn=function(){!1===e.clicked?(e.props.toggleNotesHover(!1),e.clicked=!0):(e.props.toggleNotesHover(!0),e.clicked=!1)},e.hoverOn=function(){e.props.toggleNotesHover(!0)},e.hoverOff=function(){!0===e.clicked?e.props.toggleNotesHover(!0):e.props.toggleNotesHover(!1)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("ul",{className:We.a.tags,children:Object.values(this.props.notes).map((function(t){return Object(a.jsx)(Xe,{index:t.id,clicked:e.clicked,note_title:t.note.title,clickedOn:e.clickedOn,hoverOn:e.hoverOn,hoverOff:e.hoverOff,hoverMethod:e.props.setNoteHovered},"".concat(t.id))}))})}}]),n}(s.a.Component),Je={toggleNotesHover:S.j,setNoteHovered:S.h},Qe=Object(c.b)((function(e){return{notes:Object(S.f)(e)}}),Je)(Ye),$e=n(511),et=n(243),tt=n(512),nt=n(486);var at=Object(pe.a)((function(e,t,n){return t[e(n)].length})),rt=Object(J.a)(Object($e.a)("."),Object(et.a)("path")),st=function(e,t){var n=Object(tt.a)(".",t);return Object(K.a)(Object(nt.a)("path",n),e)},ot=function(e){var t=e.fields,n=e.values,r=e.getFieldId,s=e.value,o=e.onChange,i=e.className,c=e.name;return Object(a.jsx)("div",{className:i,children:Object(a.jsx)("label",{className:"select",children:Object(a.jsxs)("select",{name:c,onChange:function(e){return o(st(t,e.target.value))},value:Object(G.a)(s)?"":rt(s),children:[Object(a.jsx)("option",{value:"",children:"\u2014None\u2014"}),Object(he.a)(at(r,n),t).map((function(e){var t=r(e);return Object(a.jsxs)("option",{value:t,children:[e.displayName," (",n[r(e)].length,")"]},t)}))]})})})},it=n(58),ct=n.n(it);var lt=Object(c.b)((function(e){return{controls:Object(C.e)(e),configuration:Object(y.m)(e),values:Object(y.n)(e)}}),(function(e){return{showNodes:function(t){return e(Object(C.m)(t))},useDarkTheme:function(t){return e(Object(C.n)(t))},colorBy:function(t){return e(Object(C.a)(t))}}}))((function(e){var t=e.controls,n=e.configuration,r=e.values,s=e.showNodes,o=e.colorBy,i=n.fields.filter((function(e){return e.groupable}));return Object(a.jsxs)("div",{className:ct.a.container,children:[Object(a.jsxs)("div",{className:"".concat(ct.a.checkboxContainer," input-group"),children:[Object(a.jsxs)("div",{className:ct.a.switch,children:[Object(a.jsx)("input",{type:"checkbox",id:"show-node-check",checked:t.shouldShowNodes,onChange:function(e){return s(e.target.checked)}}),Object(a.jsx)("label",{htmlFor:"show-node-check",className:ct.a.switchLabel})]}),Object(a.jsx)("label",{children:"Show nodes"})]}),Object(a.jsxs)("div",{className:"".concat(ct.a.checkboxContainer," input-group"),children:[Object(a.jsxs)("div",{className:ct.a.switch,children:[Object(a.jsx)("input",{type:"checkbox",id:"dark-theme-check",checked:t.darkTheme,onChange:function(t){return n=t.target.checked,void e.useDarkTheme(n);var n}}),Object(a.jsx)("label",{htmlFor:"dark-theme-check",className:ct.a.switchLabel})]}),Object(a.jsx)("label",{children:"Use dark theme"})]}),Object(a.jsxs)("div",{className:"input-group ".concat(ct.a.colorBy),children:[Object(a.jsx)("label",{htmlFor:"colorBy",children:"Color by"}),Object(a.jsx)("div",{className:ct.a.fieldSelect,children:Object(a.jsx)(ot,{name:"colorBy",className:ct.a.selector,onChange:o,fields:i,values:r,getFieldId:y.d,value:t.colorBy})})]})]})})),dt=n(31),ut=n(160),ht=n(539),pt=n(184),bt=Object(N.a)("SEARCH_DATASET"),ft=function(e){e.results=[];var t=e.queryString||"",n=e.searchIndices,a=[];if(n&&t)for(var r in n){var s=n[r].search(t.toLowerCase()),o=new Set([].concat(Object(dt.a)(a),Object(dt.a)(s)));a=Object(dt.a)(o)}Object.keys(e.datasets).forEach((function(t){var n=e.datasets[t].dataset;n.forEach((function(e){e.CRVIZ._isSearchResult=!1})),a.forEach((function(t){var a=n.find((function(e){return e.CRVIZ._SEARCH_KEY===t.ref}));a&&(a.CRVIZ._isSearchResult=!0,e.results.push(a))}))}))},jt=function(e,t){return e.pipe(Object(De.a)(bt.toString()),Object(I.a)((function(e){var t=e.payload;return Object(k.a)(t).pipe(Object(ht.a)(ft),Object(D.a)((function(e){return Object(_.h)({queryString:e.queryString,results:e.results||[]})})),Object(E.a)((function(e){if(Object(ut.a)(pt.QueryParseError,e))return Object(k.a)(Object(w.d)(e));throw e})))})))},Ot=n(188),gt=n.n(Ot),vt={queryString:"",searchIndices:[],hasSearch:!1},mt=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state=vt,e.handleQueryStringChange=function(t){e.setState({queryString:t.target.value})},e.handleKeyPress=function(t){"Enter"===t.key&&e.handleSearch()},e}return Object(u.a)(n,[{key:"handleSearch",value:function(){this.setState({hasSearch:""!==this.state.queryString});var e={datasets:this.props.datasets,configuration:this.props.configuration,searchIndices:this.props.searchIndices,queryString:this.state.queryString,results:this.props.results};this.props.searchDataset(e)}},{key:"clearSearch",value:function(){this.setState(vt,(function(){this.handleSearch()}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:gt.a.searchContainer,children:[Object(a.jsxs)("span",{className:gt.a.search,children:[Object(a.jsx)("input",{type:"search",id:"search-string",placeholder:"Search",value:this.state.queryString,onChange:this.handleQueryStringChange,onKeyPress:this.handleKeyPress}),Object(a.jsx)("label",{htmlFor:"search-string",className:"button circular",onClick:function(){return e.handleSearch()},title:"Search",children:Object(a.jsx)(m.a,{icon:x.r})})]}),this.state.hasSearch&&Object(a.jsxs)("span",{children:[Object(a.jsxs)("label",{id:"search-results",children:[" ",this.props.results.length," Results found "]}),Object(a.jsx)("label",{htmlFor:"search-results",className:"button circular",onClick:function(){return e.clearSearch()},children:Object(a.jsx)(m.a,{icon:x.v})})]})]})}}]),n}(s.a.Component),xt={searchDataset:bt},yt=Object(c.b)((function(e,t){return{datasets:Object(y.l)(e),configuration:Object(y.m)(e),searchIndices:Object(_.d)(e),queryString:e.search.queryString,results:Object(_.e)(e)}}),xt)(mt),Ct=n(97),St=n(12),wt=n(43),_t=n(244),Nt=n(245),kt=n.n(Nt),At=n(537),It=n(525),Rt=n(526),Dt=n(242),Et=n(142),Ft=n(527),Tt=n(240),Ut=n(540),Mt=n(513),Vt=n(514),Ht=n(515),zt=n(516),Zt=n(536),Lt=n(254),Bt=n(484),Pt=n(517),qt=Object(Vt.a)(Mt.a),Kt=function(e){e=Xt(Object(fe.a)(Xt,e));var t=Object(fe.a)(Gt,e),n=Wt(t),a=Object(fe.a)(Wt,Object(fe.a)(Object(fe.a)(Object(et.a)("r")),e));return qt((function(e,t){return qt((function(e,r){e.x=a[t][r],e.y=n[t]}),e)}),e)},Gt=function(e){return Math.max.apply(Math,Object(dt.a)(e.map((function(e){return e.r}))))},Wt=function(e){var t=Object(fe.a)((function(e){return 2*e}),e),n=0-Object(Et.a)(Ht.a,0,t)/2+e[0];return Object(Et.a)((function(e,t){var n=Object(wt.a)(t,2),a=n[0],r=n[1];return[].concat(Object(dt.a)(e),[Object(zt.a)(e)+a+r])}),[n],Object(Zt.a)(2,e))},Xt=function(e){var t,n=(t=e,Object(Vt.a)(Lt.a)((function(e,t){return t%2===0}),t)),a=function(e){return Object(Vt.a)(Lt.a)((function(e,t){return t%2!==0}),e)}(e);return Object(Bt.a)(Object(Dt.a)(n),a)},Yt=function(e){return Object(Pt.a)(Math.ceil(Math.sqrt(e.length)),e)},Jt=function(e){var t=Yt(e);Kt(t);var n=Object(Ut.a)(e);Object(Mt.a)((function(e){e.x-=n.x,e.y-=n.y}),e)},Qt=function(e){return function(t){t.children||(t.r=Math.max(e(t),0))}},$t=function(e){return function(t){return 2*t.r*e/(1-e)}},en=function(e,t,n,a,r){return function(s){if(s.children){var o=s.children,i=o.filter((function(e){return e.height>0}));if(i.length>0){var c=Math.max.apply(Math,Object(dt.a)(i.map($t(t))));i.forEach((function(e){e.labelSize=Math.min(c,$t(n)(e)),e.r+=e.labelSize/2}))}var l=a(s)*r||0;l&&o.forEach((function(e){return e.r+=l})),e(o);var d=Object(Ut.a)(o).r;l&&o.forEach((function(e){return e.r-=l})),s.r=d+l}}},tn=function(e){return function(t){var n=t.parent;t.r*=e,t.labelSize&&(t.labelSize*=e,t.labelY=t.r-t.labelSize/2,t.labelWidth=2*Math.sqrt(Math.pow(t.r,2)-Math.pow(t.labelY,2))),n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y,n.labelSize&&(t.y-=n.labelSize/2))}},nn=function(){var e={radius:null,size:[1,1],padding:function(){return 0},labelRatio:.25,maxLabelRatio:.4,packSiblings:Jt},t=function(t){t.x=e.size[0]/2,t.y=e.size[1]/2;var n=e.radius,a=e.size,r=e.labelRatio,s=e.maxLabelRatio,o=e.packSiblings,i="function"===typeof e.padding?e.padding:function(){return e.padding};return n?t.eachBefore(Qt(n)).eachAfter(en(o,r,s,i,.5)).eachBefore(tn(1)):t.eachBefore(Qt((function(e){return Math.sqrt(e.value)}))).eachAfter(en(o,r,s,(function(){return 0}),1)).eachAfter(en(o,r,s,i,t.r/Math.min.apply(Math,Object(dt.a)(a)))).eachBefore(tn(Math.min.apply(Math,Object(dt.a)(a))/(2*t.r))),t};return Object.keys(e).forEach((function(n){t[n]=function(){return 0===arguments.length?e[n]:(e[n]=arguments.length<=0?void 0:arguments[0],t)}})),t},an=n(492),rn=n(518),sn=n(253),on=n(532),cn=function(e){return Object(Et.a)((function(e,t){return e.key((function(e){return Object(te.a)(t.path,e)}))}),Object(sn.a)(),e)},ln=function e(t){if(Object(G.a)(t))return 0;var n=0;for(var a in t)"CRVIZ"in t[a]||(t[a].CRVIZ={}),n+=(t[a].CRVIZ._searchResultCount||0)+(t[a].CRVIZ._isSearchResult||0)+(Object(G.a)(t[a].values)?0:e(t[a].values));return n},dn=function e(t){if(Object(G.a)(t))return 0;var n=0;for(var a in t)"CRVIZ"in t[a]||(t[a].CRVIZ={}),n+=(t[a].CRVIZ._addedCount||0)+(t[a].CRVIZ._isAdded||0)+(Object(G.a)(t[a].values)?0:e(t[a].values));return n},un=function e(t){if(Object(G.a)(t))return 0;var n=0;for(var a in t)"CRVIZ"in t[a]||(t[a].CRVIZ={}),n+=(t[a].CRVIZ._changedCount||0)+(t[a].CRVIZ._isChanged||0)+(Object(G.a)(t[a].values)?0:e(t[a].values));return n},hn=function e(t){if(Object(G.a)(t))return 0;var n=0;for(var a in t)"CRVIZ"in t[a]||(t[a].CRVIZ={}),n+=(t[a].CRVIZ._removedCount||0)+(t[a].CRVIZ._isRemoved||0)+(Object(G.a)(t[a].values)?0:e(t[a].values));return n},pn=function e(t,n,a,r){var s;return"Unknown"===t?{fieldValue:t,field:n,children:Object(an.a)(bn,r),CRVIZ:{_containsGroups:!1,_searchResultCount:ln(r),_addedCount:dn(r),_changedCount:un(r),_removedCount:hn(r)}}:{fieldValue:t,field:n,children:Object(fe.a)((function(t){return t.values?e(t.key,Object(rn.a)(a),Object(Tt.a)(a),t.values):t}),r),CRVIZ:{_containsGroups:(s=r,!s.reduce((function(e,t){var n=!!t.CRVIZ&&t.CRVIZ._containsGroups;return e&&!n&&!t.values}),!0)),_searchResultCount:ln(r),_addedCount:dn(r),_changedCount:un(r),_removedCount:hn(r)}}},bn=function e(t){return t.values?Object(an.a)(e,t.values):[t]},fn=function(e,t){var n=cn(t).entries(e),a=pn("root",null,t,n);return Object(on.a)(a)},jn=n(30),On=n(520),gn=function e(t){return 0===t.depth?"root":t.height>0?[e(t.parent),t.data.field.path.join("."),t.data.fieldValue].join("."):t.data.uid},vn=function(e){return"viz-".concat(e)},mn=function(e){var t=e.r-e.labelSize,n=e.r,a=Math.PI/2+Math.acos(t/n),r=Math.PI/2-Math.acos(t/n),s=Object(On.a)();return s.arc(0,0,n,a,r,!0),s.closePath(),s.toString()},xn=function(e,t,n){var a=.8*function(e){var t=e.r-e.labelSize,n=e.r,a=Math.PI/2+Math.acos(t/n)-(Math.PI/2-Math.acos(t/n));return 2*n*Math.sin(a/2)}(t),r=.8*t.labelSize,s=(e.getBBox().width,e.getBBox().height),o=100,i=t.data.fieldValue;if(s>r){var c=1-Math.abs((s-r)/s);o=Math.max(10,c*n),Object(jn.a)(e).style("font-size",(function(e,t,n){return o+"%"})).text(i)}else if(s<.75*r){var l=1+Math.abs((s-r)/r);o=Math.min(125,l*n),Object(jn.a)(e).style("font-size",(function(e,t,n){return o+"%"})).text(i)}if(e.getBBox().width>a){var d=Math.trunc(.75*i.length);i=i.substr(0,d)+"...",Object(jn.a)(e).attr("textLength",a).attr("lengthAdjust","spacingAndGlyphs").text(i)}},yn=function(e,t){var n=t,a=e.data.CRVIZ._SEARCH_KEY;if(void 0!==e.parent)return n!==a},Cn=function(e){var t=e.nodeRoot,n=(e.labelRoot,e.packedData),a=e.showNodes,r=e.hasSearch,s=e.noteIdHovered,o=e.hasNoNotes,i=e.resetNodeStyles,c=n.descendants(),l=2*(n.leaves()[0].r||0)/16*100,d=t.selectAll("g.".concat(vn("node"))).data(c,gn);d.exit().remove();var u=d.enter().append("g").classed(vn("node"),!0);u.merge(d).attr("data-key",gn).classed(vn("rootNode"),(function(e){return 0===e.depth})).classed(vn("groupingNode"),(function(e){return e.depth>0&&e.height>0})).classed(vn("containsSearchResult"),(function(e){return r&&e.data.CRVIZ._searchResultCount>0&&e.depth>0&&e.height>0})).classed(vn("containsNoSearchResult"),(function(e){return r&&0===e.data.CRVIZ._searchResultCount&&e.depth>0&&e.height>0})).classed(vn("searchResult"),(function(e){return r&&e.data.CRVIZ._isSearchResult&&e.depth>0&&0===e.height})).classed(vn("isChanged"),(function(e){return e.data.CRVIZ._isChanged&&e.depth>0&&0===e.height})).classed(vn("isAdded"),(function(e){return e.data.CRVIZ._isAdded&&e.depth>0&&0===e.height})).classed(vn("isRemoved"),(function(e){return e.data.CRVIZ._isRemoved&&e.depth>0&&0===e.height})).classed(vn("isNotNoted"),(function(e){return yn(e,s)&&o})).classed(vn("searchExcluded"),(function(e){return r&&!e.data.CRVIZ._isSearchResult&&e.depth>0&&0===e.height})).classed(vn("leafNode"),(function(e){return 0===e.height})).classed(vn("ringMenuExcluded"),(function(e,t,n){return Object(jn.a)(n[t]).classed(vn("ringMenuExcluded"))&&!i})).attr("transform",(function(e){return"translate(".concat([e.x,e.y].join(","),")")})).attr("display",(function(e){return a||0!==e.height?null:"none"})).order(),d.select("circle").merge(u.append("circle")).attr("r",(function(e){return e.r}));var h=u.append("g").classed(vn("label-group"),!0),p=h.append("path"),b=h.append("text").classed(vn("label"),!0);d.select("g.".concat(vn("label-group"))).select("path").merge(p).filter((function(e){return e.labelSize})).attr("class",vn("labelShape")).attr("d",mn),d.select("g.".concat(vn("label-group"))).select("text").merge(b).filter((function(e){return e.labelSize})).style("font-size",(function(e,t,n){return 3*e.height*l+"%"})).attr("y",(function(e){return e.r-e.labelSize/2})).text((function(e){return e.data.fieldValue})).each((function(e,t,n){xn(n[t],e,3*e.height*l)}));var f=u.filter((function(e){return 1===e.height})).append("g").classed(vn("aggregation"),!0).attr("display",(function(e){return a?"none":null})),j=f.append("g").classed(vn("total-container"),!0).append("text").classed(vn("annotation-text"),!0).style("font-size",(function(e){return 3*e.height*l+"%"})).attr("x",(function(e){return 0})).attr("y",(function(e){return 0})).text((function(e){return isNaN(e.value)?"0":e.value})),O=t.selectAll("g.".concat(vn("aggregation"))).data(c,gn);return O.merge(f).attr("display",(function(e,t,n){return a||e.data.CRVIZ._containsGroups?"none":null})),O.select("g.".concat(vn("total-container"))).select("text").merge(j).text((function(e){return isNaN(e.value)?"0":e.value})),[d.merge(u)]},Sn=n(83),wn=function(e,t){var n=function(e){return e.r*t.k<1};e.filter(":not(.viz-zoomMinutia)").filter((function(e){return n(e)})).classed("viz-zoomMinutia",!0),e.filter(".viz-zoomMinutia").filter((function(e){return!n(e)})).classed("viz-zoomMinutia",!1)},_n=function(e,t,n){var a=Math.min(e,t),r=a*Math.max(e/t,1),s=a*Math.max(t/e,1);return[-n.x/n.k,-n.y/n.k,(-n.x+r)/n.k,(-n.y+s)/n.k]},Nn=function(e){return[e.x-e.r,e.y-e.r,e.x+e.r,e.y+e.r]},kn=function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]},An=function(e){var t=e.zoomRoot,n=e.transformRoot,a=e.nodes,r=(e.showNodes,e.width),s=e.height,o=e.packedData,i={zoomTo:null,zoomToTransform:null,transform:Object(Sn.c)(t.node())},c=Object(Sn.a)();c.on("zoom",(function(e,t){i.transform=e.transform,b(e.transform)})),t.call(c);var l=o.r,d=o.x,u=o.y,h=[Math.min(r,s)/(2*l),Math.min(r,s)/(2*o.leaves()[0].r*1.25)],p=[[d-r/2/h[0]*2,u-s/2/h[0]*2],[d+r/2/h[0]*2,u+s/2/h[0]*2]];function b(e){n.style("transform","translate(".concat(Math.floor(e.x),"px, ").concat(Math.floor(e.y),"px) scale(").concat(e.k,")"));var t=_n(r,s,e);a.filter((function(e){return kn(t,Nn(e))})).call(wn,e)}return c.scaleExtent(h).translateExtent(p),a.classed("viz-zoomMinutia",!0),i.transform&&b(i.transform),i.zoomTo=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=2*e.r*1.25,o=Math.min(r,s)/a,i=Sn.b.scale(o).translate(-e.x+r/2/o,-e.y+s/2/o);c.transform(n?t.transition().duration(1e3):t,i)},i.zoomToTransform=b,i},In=function(e){e.nodeRoot;var t=e.tooltip;e.fields;t.style("display","block").style("position","absolute").style("transform",null).style("top","0px").style("left","0px"),t.style("display","none")},Rn=n(534),Dn=n(189),En=n(493),Fn=n(523),Tn=n(487),Un=n(485),Mn=n(521),Vn=n(252),Hn=n(522),zn=n(19),Zn=["#a6cee3","#3366cc","#b2df8a","#33a02c","#fb9a99","#996699","#fdbf6f","#ff7f00","#cc99ff","#6a3d9a","#ffff99","#b15928","#ffcc99","#333399"];var Ln=function(e){var t=e.legend,n=e.colorMap,a=e.toggleValue,r=t.selectAll("p.viz-legendItem").data(Object(Un.a)(n),(function(e){return Object(wt.a)(e,1)[0]}));r.exit().remove();var s=r.enter().append("p").classed("viz-legendItem",!0);s.append("span").classed("viz-legendColor",!0),s.append("span").classed("viz-legendLabel",!0),r.merge(s).classed("viz-legendDisabled",(function(e){return e[1].disabled})),r.merge(s).select(".viz-legendColor").style("background-color",(function(e){var t=Object(wt.a)(e,2);t[0];return t[1].color})),r.merge(s).select(".viz-legendLabel").attr("title",(function(e){return Object(wt.a)(e,1)[0]})).text((function(e){return Object(wt.a)(e,1)[0]})),t.on("click.toggle",(function(){var e=Object(St.e)(St.a.target).datum();e&&a(e[0])}))},Bn=function(e){var t=Object(St.f)("style#coloring").data([e]),n=t.enter().append("style").attr("id","coloring"),a=e.map((function(e,t){var n=Object(wt.a)(e,2),a=(n[0],n[1]),r=a.color,s=a.className;return"\n      .viz-node circle.".concat(s," {\n        fill: ").concat(r," !important\n      }\n    ")})).join("\n");t.merge(n).html(a)},Pn=function(e){var t=e.nodes,n=e.colorMap,a=e.getValue,r=e.coloredField,s=e.isColoringGroup;t.filter((function(e){return 0===e.height})).select("circle").attr("class",(function(e){var t=n[a(e.data)]||{},r=t.disabled,o=t.className;return s||r||!o?null:o})),t.filter((function(e){return e.height>0})).classed("viz-coloredNode",(function(e){return!(n[a(e.data)]||{}).disabled&&Object(ne.a)(e.data.field,r)})).select("circle").attr("class",(function(e){var t=n[a(e.data)]||{},o=t.disabled,i=t.className;return s&&Object(ne.a)(e.data.field,r)&&!o&&i}))},qn=function(e){var t=e.annotations,n=e.colorMap,a=e.getValue,r=e.coloredField,s=e.isColoringGroup;t&&t.select("g.".concat(vn("total-container"))).attr("class",(function(e){var t=n[a(e.data)]||{},o=t.disabled,i=t.className;return s&&Object(ne.a)(e.data.field,r)&&!o&&i}))},Kn=function(e){var t=e.legend,n=e.data,a=e.hierarchyConfig,r=e.coloredField;if(e.legendConfig,!r){t.style("display","none");var s={nodes:[],annotations:[]};return{update:function(e){var t=e.nodes;e.annotations;s.nodes=t,t.classed("viz-coloredNode",r),r||t.select("circle").attr("class",null)}}}t.style("display",null);var o=Object(Rn.a)(Object(te.a)(r.path),Object(te.a)(["fieldValue"])),i=Object(be.a)(r,a),c=Object(Dn.a)(Object(fe.a)(o),En.a,Object(he.a)(W.a))(n),l=function(e,t){var n=Math.floor(t/e.length);if(0===n)return e;var a=Object(Mn.a)((function(t){var a=(t+e.length)/e.length,r=Object(zn.c)(e[t%e.length]),s=Object(zn.c)(e[(t+1)%e.length]),o=Object(Vn.a)().domain([0,n]).range([r.h,s.h]),i=Object(Hn.a)().exponent(5).domain([0,n]).range([r.c,100]),c=Object(Hn.a)().exponent(2).domain([0,n]).range([r.l,r.l/2]),l=o(a),d=i(a),u=c(a);return Object(zn.c)(l,d,u).toString()}),t-e.length);return Object(Bt.a)(e,a)}(Zn,c.length).map((function(e,t){return{color:e,disabled:!1,className:"legend-color-".concat(t)}})),d=Object(Fn.a)(c,l),u=Object(Tn.a)(d);Bn(d);var h={nodes:[]};function p(e){var n=e.nodes,a=e.annotations;h.nodes=n,n.classed("viz-coloredNode",r),r?(Pn({nodes:n,colorMap:u,getValue:o,coloredField:r,isColoringGroup:i}),qn({annotations:a,colorMap:u,getValue:o,coloredField:r,isColoringGroup:i}),Ln({legend:t,colorMap:u,toggleValue:b})):n.select("circle").attr("class",null)}function b(e){u[e].disabled=!u[e].disabled,p({nodes:h.nodes})}return{update:p,colorMap:u}},Gn=n(524),Wn=function(e,t){return[e,t].join(" ")},Xn=function(e){return Math.PI/2-Math.acos((e.r-e.labelSize)/e.r)},Yn=Object(Gn.a)(Wn,(function(e,t){return e*Math.cos(t)})),Jn=Object(Gn.a)(Wn,(function(e,t){return e*Math.sin(t)})),Qn=function(e){var t=e.packedData,n=e.annotationRoot,a=t.descendants().filter((function(e){return e.depth>0&&e.height>0&&e.data.CRVIZ&&e.data.CRVIZ._addedCount+e.data.CRVIZ._changedCount+e.data.CRVIZ._removedCount>0})),r=t.leaves()[0].r||0,s=2*r/16*100,o=n.selectAll("g.".concat(vn("annotation"))).data(a,gn);o.exit().remove();var i=o.enter().append("g").classed(vn("annotation"),!0);i.merge(o).attr("data-key",gn).attr("transform",(function(e){return"translate(".concat([e.x,e.y].join(","),")")})).order();var c=i.append("g").classed(vn("change-icon-container"),!0).append("text").classed("svg-icon",!0).classed("nag",!0).style("font-size",(function(e){return 4*e.height*s+"%"})).text("\uf06a");o.select("g.".concat(vn("change-icon-container"))).select("text.svg-icon").merge(c).attr("x",(function(e){return Yn(e.r,Xn(e))})).attr("y",(function(e){return Jn(e.r,Xn(e))})).on("click",(function(e){var t=Object(jn.b)("g.".concat(vn("annotation"),'[data-key="').concat(gn(e),'"]'));t.select("g.".concat(vn("change-icon-container"))).classed(vn("annotation-hidden"),!0),t.select("g.".concat(vn("change-icon-container"))).select("text.nag").classed("nag",!1),t.select("g.".concat(vn("ring-menu"))).classed(vn("annotation-hidden"),!1)}));var l=i.append("g").classed(vn("ring-menu"),!0).classed(vn("annotation-hidden"),!0),d=l.append("circle").classed(vn("bg-circle"),!0).attr("r",(function(e){return 18*e.height*r}));o.select("g.".concat(vn("ring-menu"))).select("circle").merge(d).attr("cx",(function(e){return Yn(e.r,Xn(e))})).attr("cy",(function(e){return Jn(e.r,Xn(e))}));var u=l.append("text").classed("svg-icon",!0).style("font-size",(function(e){return 3*e.height*s+"%"})).text("\uf00d");o.select("g.".concat(vn("ring-menu"))).select("text.svg-icon").merge(u).attr("x",(function(e){return Yn(e.r,Xn(e))})).attr("y",(function(e){return Jn(e.r,Xn(e))})).on("click",(function(e){var t=Object(jn.b)("g.".concat(vn("annotation"),'[data-key="').concat(gn(e),'"]'));t.select("g.".concat(vn("change-icon-container"))).classed(vn("annotation-hidden"),!1),t.select("g.".concat(vn("ring-menu"))).classed(vn("annotation-hidden"),!0)}));var h=l.append("g").classed(vn("total-container"),!0);h.append("g").classed(vn("node"),!0).append("circle").attr("r",(function(e){return 2*e.height*r})).attr("cx",(function(e){return Yn(e.r,Xn(e))-0*e.height*r})).attr("cy",(function(e){return Jn(e.r,Xn(e))-10*e.height*r})),o.select("g.".concat(vn("total-container"))).merge(h).on("click",(function(e,t,n){var a=gn(e),r=Object(jn.a)(n[t]).select("g.".concat(vn("node"))),s=r.classed(vn("ringMenuExcluded")),o=Object(jn.b)("g.".concat(vn("node"))).filter((function(e){return-1!==e.ancestors().findIndex((function(e){return gn(e)===a}))})).filter((function(e,t,n){var a=Object(jn.a)(n[t]);return!a.classed(vn("isAdded"))&&!a.classed(vn("isChanged"))&&!a.classed(vn("isRemoved"))&&!a.classed(vn("groupingNode"))}));o.empty()||(r.classed(vn("ringMenuExcluded"),!s),o.classed(vn("ringMenuExcluded"),!s))}));var p=h.append("text").classed(vn("annotation-text"),!0).style("font-size",(function(e){return 2*e.height*s+"%"})).attr("x",(function(e){return Yn(e.r,Xn(e))+7*e.height*r})).attr("y",(function(e){return Jn(e.r,Xn(e))-10*e.height*r}));o.select("g.".concat(vn("total-container"))).select("text").merge(p).text((function(e){return isNaN(e.value)?"0":e.value}));var b=l.append("g").classed(vn("added-container"),!0);b.append("g").classed(vn("isAdded-fixed"),!0).append("circle").attr("r",(function(e){return 2*e.height*r})).attr("cx",(function(e){return Yn(e.r,Xn(e))-13.5*e.height*r})).attr("cy",(function(e){return Jn(e.r,Xn(e))})),o.select("g.".concat(vn("added-container"))).merge(b).on("click",(function(e,t,n){var a=gn(e),r=Object(jn.a)(n[t]).select("g.".concat(vn("isAdded-fixed"))),s=r.classed(vn("ringMenuExcluded")),o=Object(jn.b)("g.".concat(vn("isAdded-fixed"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return gn(e)===a}))})),i=Object(jn.b)("g.".concat(vn("isAdded"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return gn(e)===a}))}));i.empty()||(r.classed(vn("ringMenuExcluded"),!s),o.classed(vn("ringMenuExcluded"),!s),i.classed(vn("ringMenuExcluded"),!s))}));var f=b.append("text").classed(vn("annotation-text"),!0).style("font-size",(function(e){return 2*e.height*s+"%"})).attr("x",(function(e){return Yn(e.r,Xn(e))-7.5*e.height*r})).attr("y",(function(e){return Jn(e.r,Xn(e))}));o.select("g.".concat(vn("added-container"))).select("text").merge(f).text((function(e){return isNaN(e.data.CRVIZ._addedCount)?"0":e.data.CRVIZ._addedCount}));var j=l.append("g").classed(vn("changed-container"),!0);j.append("g").classed(vn("isChanged-fixed"),!0).append("circle").attr("r",(function(e){return 2*e.height*r})).attr("cx",(function(e){return Yn(e.r,Xn(e))-0*e.height*r})).attr("cy",(function(e){return Jn(e.r,Xn(e))+10*e.height*r})),o.select("g.".concat(vn("changed-container"))).merge(j).on("click",(function(e,t,n){var a=gn(e),r=Object(jn.a)(n[t]).select("g.".concat(vn("isChanged-fixed"))),s=r.classed(vn("ringMenuExcluded")),o=Object(jn.b)("g.".concat(vn("isChanged-fixed"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return gn(e)===a}))})),i=Object(jn.b)("g.".concat(vn("isChanged"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return gn(e)===a}))}));i.empty()||(r.classed(vn("ringMenuExcluded"),!s),o.classed(vn("ringMenuExcluded"),!s),i.classed(vn("ringMenuExcluded"),!s))}));var O=j.append("text").classed(vn("annotation-text"),!0).style("font-size",(function(e){return 2*e.height*s+"%"})).attr("x",(function(e){return Yn(e.r,Xn(e))+7*e.height*r})).attr("y",(function(e){return Jn(e.r,Xn(e))+10*e.height*r}));o.select("g.".concat(vn("changed-container"))).select("text").merge(O).text((function(e){return isNaN(e.data.CRVIZ._changedCount)?"0":+e.data.CRVIZ._changedCount}));var g=l.append("g").classed(vn("removed-container"),!0);g.append("g").classed(vn("isRemoved-fixed"),!0).append("circle").attr("r",(function(e){return 2*e.height*r})).attr("cx",(function(e){return Yn(e.r,Xn(e))+7.5*e.height*r})).attr("cy",(function(e){return Jn(e.r,Xn(e))})),o.select("g.".concat(vn("removed-container"))).merge(g).on("click",(function(e,t,n){var a=gn(e),r=Object(jn.a)(n[t]).select("g.".concat(vn("isRemoved-fixed"))),s=r.classed(vn("ringMenuExcluded")),o=Object(jn.b)("g.".concat(vn("isRemoved-fixed"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return gn(e)===a}))})),i=Object(jn.b)("g.".concat(vn("isRemoved"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return gn(e)===a}))}));i.empty()||(r.classed(vn("ringMenuExcluded"),!s),o.classed(vn("ringMenuExcluded"),!s),i.classed(vn("ringMenuExcluded"),!s))}));var v=g.append("text").classed(vn("annotation-text"),!0).style("font-size",(function(e){return 2*e.height*s+"%"})).attr("x",(function(e){return Yn(e.r,Xn(e))+14*e.height*r})).attr("y",(function(e){return Jn(e.r,Xn(e))}));return o.select("g.".concat(vn("removed-container"))).select("text").merge(v).text((function(e){return isNaN(e.data.CRVIZ._removedCount)?"0":e.data.CRVIZ._removedCount})),o.merge(i)};var $n=function(e,t,n){return Object(At.a)(Object(fe.a)(It.a,e))(t,n)},ea=function(e,t){return fn(e,t).count().sort(ta([function(e,t){return"Unknown"===e.data.fieldValue?"Unknown"===t.data.fieldValue?0:1:"Unknown"===t.data.fieldValue?-1:0},function(e,t){return(t.value||0)-(e.value||0)},function(e,t){return(e.data.fieldValue||"").localeCompare(t.data.fieldValue||"")}]))},ta=function(e){return function(t,n){return Object(Rt.a)((function(e){return 0===e}),(function(e,a){return a(t,n)}),0,e)}},na=function(e,t){var n=Object(Dt.a)(e.ancestors());return Object(Et.a)((function(e,t){return function(e,t){return Object(K.a)(Object(ee.a)(gn,t),e.children||[])}(e,t)||Object(Ft.a)(e)}),t,Object(Tt.a)(n))},aa=function(e){var t=Object(St.e)(e),n=t.append("div").attr("data-node","zoomRoot").style("position","relative").style("width","100%").style("height","100%");t.style("position","relative");var a=n.append("div").attr("data-node","transformRoot").style("position","absolute").style("top",0).style("left",0).style("width","100%").style("height","100%").style("transform-origin","top left"),r=n.append("svg").style("position","absolute").style("pointer-events","none").style("top",0).style("left",0).style("width","100%").style("height","100%"),s=a.append("svg").style("overflow","visible").attr("class","nodeRoot"),o=t.append("div").classed("viz-tooltip",!0),i=t.append("div").classed("viz-legend",!0),c=s.append("g"),l=s.append("g").attr("class","annotation-root"),d={hierarchyConfig:null,data:null,fields:null,width:e.clientWidth,height:e.clientHeight,showNodes:!0,coloredField:null,queryString:""},u={packedData:null,nodes:null,annotations:null,labels:null,countLabels:null,zoom:null,selectedNode:null,legend:null};function h(t){t=Object(re.a)(Object(re.a)({},t),{},{width:e.clientWidth,height:e.clientHeight,hasSearch:t.hasSearch});var n=!$n(["hierarchyConfig","data","fields","queryString"],d,t),a=!$n(["width","height"],d,t),r=!$n(["coloredField","hierarchyConfig","data"],d,t);d=t,n&&(p(d,u),O(d,u)),b(d,u),r?f(d,u):u.legend&&u.legend.update({nodes:u.nodes}),(a||n)&&j(d,u)}new _t.ResizeSensor(e,kt()((function(){return h(d)}),100));var p=function(e,t){var n=ea(e.data,e.hierarchyConfig),a=nn().size([e.width,e.height]),r=a(n).leaves()[0].r;a.padding((function(e){return r*e.height})),t.packedData=a(n)},b=function(e,t){var n=Cn({nodeRoot:c,labelRoot:r,packedData:t.packedData,showNodes:e.showNodes,hasSearch:""!==e.queryString,noteIdHovered:e.noteIdHovered,hasNoNotes:e.hoverStatus,resetNodeStyles:e.resetNodeStyles}),a=Object(wt.a)(n,1)[0];In({tooltip:o,fields:e.fields,nodeRoot:c}),t.nodes=a},f=function(e,t){t.legend=Kn({legend:i,hierarchyConfig:e.hierarchyConfig,data:e.data,coloredField:e.coloredField}),null!=t.legend&&t.legend.update({nodes:t.nodes,annotations:t.annotations})},j=function(e,t){t.zoom=An({zoomRoot:n,transformRoot:a,nodes:t.nodes,width:e.width,height:e.height,packedData:t.packedData});var r=!0;if(t.selectedNode){var s=na(t.selectedNode,t.packedData);t.selectedNode=s,r=!1}else t.selectedNode=t.packedData;t.zoom.zoomTo(t.selectedNode,r),c.on("click.select",(function(){var n=Object(St.e)(St.a.target).datum();void 0!==n.data&&e.sendData(n.data);var a=n;0===n.height&&n.parent&&(a=n.parent),t.selectedNode=n,t.zoom.zoomTo(a)}))},O=function(e,t){t.annotations=Qn({packedData:t.packedData,annotationRoot:l})};return{update:h}},ra=n(246),sa=n.n(ra),oa=[],ia=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){var t=i.a.findDOMNode(Object(Ct.a)(e));Object(St.e)(t).on("click",(function(){oa=Object(St.c)(this)})),e.props.setPosition(oa)},e.getData=function(t){e.props.setSelectedDatum(t)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=i.a.findDOMNode(this);this.viz=aa(e),this.updateFromProps()}},{key:"updateFromProps",value:function(){this.viz.update({hierarchyConfig:this.props.controls.hierarchyConfig,fields:this.props.configuration.fields||[],showNodes:this.props.controls.shouldShowNodes,coloredField:this.props.controls.colorBy,data:this.props.dataset||[],queryString:this.props.queryString,position:this.props.position,sendData:this.getData,noteIdHovered:this.props.noteIdHovered,notes:this.props.notes,hoverStatus:this.props.hoverStatus,resetNodeStyles:this.props.resetNodeStyles})}},{key:"componentDidUpdate",value:function(){this.updateFromProps()}},{key:"render",value:function(){return Object(a.jsx)("div",{onClick:this.onClick,className:sa.a.viz})}}]),n}(s.a.PureComponent),ca=Object(c.b)((function(e,t){return{dataset:Object(y.k)(e,t.startUid,t.endUid),configuration:Object(y.m)(e),controls:Object(C.e)(e),queryString:Object(_.c)(e),position:Object(C.c)(e),noteIdHovered:Object(S.d)(e),notes:Object(S.f)(e),hoverStatus:Object(S.e)(e)}}),(function(e){return{setPosition:function(t){return e(Object(C.i)(t))},setSelectedDatum:function(t){return e(Object(C.j)(t))}}}))(ia),la=n(74),da=n(528),ua=n(529),ha=Object(N.a)("START_REFRESH_DATASET"),pa=Object(N.a)("STOP_REFRESH_DATASET"),ba=function(e,t){return e.pipe(Object(De.a)(ha.toString()),Object(R.a)(500),Object(I.a)((function(t){var n=t.payload.owner,a=t.payload.url,r=t.payload.header,s=1e3*t.payload.interval;return Object(da.a)(0,s).pipe(Object(I.a)((function(){return Object(k.a)(Object(y.t)({owner:n,isFetching:!0}),Object(la.c)({owner:n,url:a,header:r}))})),Object(ua.a)(e.ofType(pa.toString())))})))};var fa=Object(nt.a)("url"),ja=function(e){var t=e.className,n=e.selected,r=e.datasets,s=e.onChange;return Object(a.jsx)("div",{className:t,children:Object(a.jsx)("label",{className:"select",children:Object(a.jsxs)("select",{onChange:function(e){return s(Object(K.a)(fa(e.target.value),r))},value:Object(G.a)(n)?"":n.url,children:[Object(a.jsx)("option",{value:"",children:"\u2014None\u2014"}),r.map((function(e){return Object(a.jsx)("option",{value:e.url,children:e.name},e.url)}))]})})})};var Oa=function(e){var t=e.className,n=e.selected,r=e.onChange,s="file-input-"+e.ownerUuid;return Object(a.jsxs)("span",{className:t,children:[Object(a.jsx)("input",{type:"file",id:s,value:"",style:{display:"none"},onChange:function(e){return r(e.target.files[0])}}),Object(a.jsx)("span",{children:Object(G.a)(n)?"No file selected":n}),Object(a.jsx)("label",{htmlFor:s,className:"button circular",title:"Upload data from file",children:Object(a.jsx)(m.a,{icon:x.x})})]})};var ga=function(e){var t=e.className,n=e.selected,r=e.url,s=e.disabled;return Object(a.jsx)("span",{className:t,children:Object(a.jsx)("a",{className:"button circular",href:r,download:n+".json",title:"Download",disabled:s,children:Object(a.jsx)(m.a,{icon:x.h})})})};var va=function(e){var t=e.className,n=e.onClick,r=e.disabled;return Object(a.jsx)("span",{className:t,children:Object(a.jsx)("div",{className:"button circular",disabled:r,title:"Refresh",onClick:function(){return n()},children:Object(a.jsx)(m.a,{icon:x.p})})})};var ma=function(e){var t=e.className,n=e.interval,r=e.timerIsRunning,s=e.disabled,o=e.onIntervalChange,i=e.onStartClick,c=e.onStopClick;return Object(a.jsxs)("span",{className:t,children:[Object(a.jsx)("input",{type:"text",title:"Refresh interval in seconds",value:n,onChange:function(e){return o(e.target.value)}}),!r&&Object(a.jsx)("div",{className:"button circular",disabled:s,title:"Start Refresh Timer",onClick:function(){return i()},children:Object(a.jsx)(m.a,{icon:x.t})}),r&&Object(a.jsx)("div",{className:"button circular",disabled:s,title:"Stop Refresh Timer",onClick:function(){return c()},children:Object(a.jsx)(m.a,{icon:x.s})})]})},xa=n(247),ya=n.n(xa),Ca=function(e,t,n,a,r){var s={};return e&&(s.datasets=Sa(e)),t&&(s.keyFields=t),n&&(s.ignoredFields=n),a&&(s.controls=a),r&&(s.notes=r),s},Sa=function(e){var t=ya()(e);return Object.keys(t).forEach((function(e){t[e].dataset.forEach((function(e){delete e.CRVIZ}))})),t},wa=n(27),_a=n.n(wa),Na={name:"Custom URL",url:"custom-url"},ka={name:"Upload Dataset",url:"upload-dataset"},Aa=[{name:"-None-",scheme:"None"},{name:"Username\\Password",scheme:"Basic"},{name:"Token",scheme:"Bearer"}];O.a.setAppElement("#root");var Ia=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).resetDataset=function(){a.props.setDataset({dataset:[],owner:a.props.uuid,source:null,name:"",shortName:"",configuration:{}}),a.setState({selected:null,selectedFile:null})},a.fetchAndSetDataset=function(e,t,n,r,s){a.props.showBusy(!0),a.props.setIsFetching({owner:a.props.uuid,isFetching:!0});var o=Object(la.a)(n,r,s);Ra(e)?a.props.fetchDataset({owner:a.props.uuid,name:a.props.name,shortName:a.props.shortName,url:e,header:o}):a.props.setError(new Error("Please enter a valid URL."))},a.onSelected=function(e){if(Object(G.a)(e))return a.resetDataset();a.props.removeDataset({owner:a.props.uuid}),a.props.removeSearchIndex({owner:a.props.uuid}),a.props.stopRefresh();var t=e===Na,n=e===ka;if(a.setState({showUrlEntry:t,showUpload:n,url:"",authScheme:null,token:"",username:"",password:"",selected:e,selectedFile:null,refreshInterval:0,refreshTimerRunning:!1}),!t&&!n){var r=e.url;a.fetchAndSetDataset(r,e,null,null,null),a.setStartOrEnd(a.props.uuid)}},a.onUpload=function(e){a.setState({selectedFile:e,refreshInterval:0,refreshTimerRunning:!1})},a.onUrlChange=function(e){a.setState({url:e.target.value})},a.onTokenChange=function(e){a.setState({token:e.target.value})},a.onUsernameChange=function(e){a.setState({username:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.onUrlOk=function(){a.setState({showUrlEntry:!1});var e=a.state.selected;if(!Object(G.a)(a.state.url)){var t=a.state.url;e.url=t,a.fetchAndSetDataset(t,e,a.state.username,a.state.password,a.state.token),a.setStartOrEnd(a.props.uuid)}},a.onUrlCancel=function(){a.setState({showUrlEntry:!1,url:"",authScheme:"",token:"",username:"",password:""})},a.onUploadOk=function(){a.state.selectedFile&&(a.props.showBusy(!0),a.props.uploadDataset({owner:a.props.uuid,name:a.props.name,shortName:a.props.shortName,file:a.state.selectedFile,includeData:!0,includeControls:!1}),a.props.stopRefresh(),a.setState({showUpload:!1}),a.setStartOrEnd(a.props.uuid))},a.setStartOrEnd=function(e){a.props.controls.start?a.props.controls.end||a.props.setEndDataset(e):a.props.setStartDataset(e)},a.onUploadCancel=function(){a.setState({selectedFile:null,showUpload:!1})},a.getDownloadUrl=function(){var e=a.props.fullDatasets,t=a.props.controls,n=a.props.keyFields,r=a.props.ignoredFields,s=a.props.notes,o=window.URL||window.webkitURL||window,i=JSON.stringify(Ca(e,n,r,t,s),null,2),c=new Blob([i],{type:"application/json"});return o.createObjectURL(c)},a.onRefresh=function(){var e=a.state.selected.url,t=a.state.selected;a.fetchAndSetDataset(e,t,a.state.username,a.state.password,a.state.token)},a.onTimedRefreshStart=function(){a.props.setIsFetching({owner:a.props.uuid,isFetching:!0}),a.setState({refreshTimerRunning:!0});var e=Object(la.a)(a.state.username,a.state.password,a.state.token),t=a.state.selected.url,n=a.state.refreshInterval;a.props.startRefresh({owner:a.props.uuid,url:t,header:e,interval:n})},a.onTimedRefreshStop=function(){a.setState({refreshTimerRunning:!1}),a.props.stopRefresh()},a.removeDatasetEntry=function(){a.props.removeDatasetEntry(a.props.uuid)},a.onTimedRefreshIntervalChanged=function(e){var t=parseInt(e,10);isNaN(t)?e||a.setState({refreshInterval:null}):a.setState({refreshInterval:t})};var r=e.initialDataSource,s=r?new URL(r.url):null,o=!!s&&"https:"===s.protocol,i=o?"Basic":"";return a.state={dataset:null,selected:r,selectedFile:null,showUrlEntry:o,showUpload:!1,url:s?s.href:"",authScheme:i,token:"",username:"",password:"",refreshInterval:0,refreshTimerRunning:!1},a.datasets=[].concat(Object(dt.a)(a.props.datasets),[Na,ka]),r&&a.datasets.push(r),r&&!o&&a.fetchAndSetDataset(r.url,r,null,null,null),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.selected&&!this.state.selectedFile,n=this.state.selected&&!Object(G.a)(this.state.selected.url)&&!this.state.selectedFile,r=null;try{r=new URL(this.props.source)}catch(s){if(!(s instanceof TypeError))throw s;r=null}return Object(a.jsxs)("div",{className:_a.a.dataControls,children:[Object(a.jsxs)("div",{className:_a.a.dataControlHeader,children:[this.props.name,this.props.removable&&Object(a.jsx)(m.a,{icon:x.n,onClick:this.removeDatasetEntry})]},this.props.uuid+"_label"),Object(a.jsxs)("div",{className:_a.a.selectorContainer,children:[Object(a.jsx)("span",{className:_a.a.label,children:"Dataset"}),Object(a.jsx)(ja,{className:_a.a.selector,selected:this.state.selected,onChange:this.onSelected,datasets:this.datasets,source:this.props.source})]}),Object(a.jsx)("div",{className:_a.a.datasetSourceContainer,children:this.props.source&&Object(a.jsxs)("span",{children:["Source:\xa0",r&&Object(a.jsx)("a",{href:r,children:this.props.source}),!r&&this.props.source]})}),Object(a.jsxs)("div",{className:_a.a.utilityContainer,children:[t&&Object(a.jsx)(ga,{className:_a.a.fileDownload,selected:this.state.selected.name,url:this.getDownloadUrl(),disabled:this.props.isFetching}),n&&Object(a.jsxs)("div",{className:_a.a.urlRefreshContainer,children:[Object(a.jsx)(va,{className:_a.a.urlRefresh,onClick:this.onRefresh,disabled:this.props.isFetching}),Object(a.jsx)(ma,{className:_a.a.urlRefresh,interval:this.state.refreshInterval,timerIsRunning:this.state.refreshTimerRunning,disabled:this.props.isFetching,onIntervalChange:this.onTimedRefreshIntervalChanged,onStartClick:this.onTimedRefreshStart,onStopClick:this.onTimedRefreshStop})]})]}),Object(a.jsxs)("div",{className:_a.a.urlRefreshTime,children:[n&&this.props.isFetching&&Object(a.jsxs)("span",{children:[Object(a.jsx)(m.a,{className:"fa-spin",icon:x.f})," Fetching Data..."]}),n&&!this.props.isFetching&&Object(a.jsxs)("span",{children:["Last Updated: ",this.props.lastUpdated?(this.props.lastUpdated.toLocaleDateString()||"")+" "+(this.props.lastUpdated.toLocaleTimeString()||""):"Never"]})]}),Object(a.jsx)(O.a,{isOpen:this.state.showUrlEntry,onRequestClose:this.onUrlCancel,contentLabel:"Enter a Url",children:Object(a.jsx)("div",{className:_a.a.modal,children:Object(a.jsxs)("div",{className:_a.a.modalMain,children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{children:" URL "}),Object(a.jsx)("input",{type:"text",value:this.state.url,onChange:this.onUrlChange})]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{children:" AuthType "}),Object(a.jsx)("label",{className:"select",children:Object(a.jsx)("select",{onChange:function(t){return e.setState({authScheme:t.target.value})},value:Object(G.a)(this.state.authScheme)?"":this.state.authScheme,children:Aa.map((function(e){return Object(a.jsx)("option",{value:e.scheme,children:e.name},e.scheme)}))})})]}),"Bearer"===this.state.authScheme&&Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{children:" Token "}),Object(a.jsx)("input",{type:"text",value:this.state.Token,onChange:this.onTokenChange})]}),"Basic"===this.state.authScheme&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{children:" Username "}),Object(a.jsx)("input",{type:"text",value:this.state.userName,onChange:this.onUsernameChange})]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{children:" Password "}),Object(a.jsx)("input",{type:"password",value:this.state.password,onChange:this.onPasswordChange})]})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("span",{className:_a.a.centerSpan,children:[Object(a.jsx)("div",{className:"button circular",title:"Ok",onClick:this.onUrlOk,children:Object(a.jsx)(m.a,{icon:x.e})}),Object(a.jsx)("div",{className:"button circular",title:"Cancel",onClick:this.onUrlCancel,children:Object(a.jsx)(m.a,{icon:x.u})})]})})]})})}),Object(a.jsx)(O.a,{isOpen:this.state.showUpload,onRequestClose:this.onUploadCancel,contentLabel:"Upload a File",children:Object(a.jsx)("div",{className:_a.a.modal,children:Object(a.jsxs)("div",{className:_a.a.modalMain,children:[Object(a.jsxs)("div",{className:_a.a.uploadContainer,children:[Object(a.jsx)("span",{className:_a.a.label,children:"Upload"}),Object(a.jsx)(Oa,{ownerUuid:this.props.uuid,className:_a.a.fileUpload,selected:this.state.selectedFile?this.state.selectedFile.name:null,onChange:this.onUpload})]}),Object(a.jsxs)("span",{className:_a.a.centerSpan,children:[Object(a.jsx)("div",{className:"button circular",title:"Ok",onClick:this.onUploadOk,children:Object(a.jsx)(m.a,{icon:x.e})}),Object(a.jsx)("div",{className:"button circular",title:"Cancel",onClick:this.onUploadCancel,children:Object(a.jsx)(m.a,{icon:x.u})})]})]})})})]})}}]),n}(s.a.Component),Ra=function(e){try{return new URL(e)}catch(t){if(t instanceof TypeError)return null;throw t}};Ia.defaultProps={uuid:Object(g.a)(),datasets:[],dataset:null,hierarchyConfig:[],configHasChanged:!1,isFetching:!1,lastUpdated:new Date};var Da={fetchDataset:la.c,uploadDataset:T,setDataset:y.o,setStartDataset:C.k,setEndDataset:C.g,selectDataset:y.j,removeDataset:y.i,removeSearchIndex:_.f,getIsFetching:y.f,setIsFetching:y.t,showNodes:C.m,setHierarchyConfig:C.h,colorBy:C.a,startRefresh:ha,stopRefresh:pa,setError:w.d,showBusy:C.l},Ea=Object(c.b)((function(e,t){var n=t.uuid,a=Object(y.l)(e);return{dataset:n in a?a[n].dataset:[],source:n in a?a[n].source:null,isFetching:Object(y.f)(e,n),lastUpdated:Object(y.h)(e,n),fullDatasets:a,controls:Object(C.e)(e),keyFields:Object(y.g)(e),ignoredFields:Object(y.e)(e),notes:Object(S.c)(e)}}),Da)(Ia),Fa=n(112),Ta={position:"absolute",width:"100%",height:42,transform:"translate(0%, -50%)",borderRadius:7,cursor:"pointer"},Ua={position:"absolute",width:"100%",height:14,transform:"translate(0%, -50%)",borderRadius:7,pointerEvents:"none",backgroundColor:"rgb(155,155,155)"};function Ma(e){var t=e.getRailProps;return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("div",Object(re.a)({style:Ta},t())),Object(a.jsx)("div",{style:Ua})]})}function Va(e){var t=Object(wt.a)(e.domain,2),n=t[0],s=t[1],o=e.handle,i=o.id,c=o.value,l=o.percent,d=e.disabled,u=e.getHandleProps;return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("div",Object(re.a)({style:{left:"".concat(l,"%"),position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:5,width:28,height:42,cursor:"pointer",backgroundColor:"none"}},u(i))),Object(a.jsx)("div",{role:"slider","aria-valuemin":n,"aria-valuemax":s,"aria-valuenow":c,style:{left:"".concat(l,"%"),position:"absolute",transform:"translate(-50%, -50%)",zIndex:2,width:24,height:24,borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.3)",backgroundColor:d?"#666":"#0277BD"}})]})}function Ha(e){var t=e.source,n=e.target,r=e.getTrackProps,s=e.disabled;return Object(a.jsx)("div",Object(re.a)({style:{position:"absolute",transform:"translate(0%, -50%)",height:14,zIndex:1,backgroundColor:s?"#999":"#014065",borderRadius:7,cursor:"pointer",left:"".concat(t.percent,"%"),width:"".concat(n.percent-t.percent,"%")}},r()))}function za(e){var t=e.tick,n=e.count,r=e.format;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{position:"absolute",marginTop:14,width:1,height:5,backgroundColor:"rgb(200,200,200)",left:"".concat(t.percent,"%")}}),Object(a.jsx)("div",{style:{position:"absolute",marginTop:22,fontSize:10,textAlign:"center",marginLeft:"".concat(-100/n/2,"%"),width:"".concat(100/n,"%"),left:"".concat(t.percent,"%")},children:r(t.value)})]})}Va.defaultProps={disabled:!1},Ha.defaultProps={disabled:!1},za.defaultProps={format:function(e){return e}};var Za=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={start:null,end:null,labelMode:"long"},e.onDragEnter=function(e){e.preventDefault()},e.onDragOver=function(e){e.preventDefault()},e.onDragStart=function(e){var t=e.target.dataset.slider;e.dataTransfer.setData("text/plain",t)},e.onDrop=function(t){t.preventDefault();var n=t.dataTransfer.getData("text/plain"),a=Number(t.target.dataset.slot),r=e.props.points;isNaN(a)||("min"===n?e.props.setStartUuid(r[a]):"max"===n&&e.props.setEndUuid(r[a]))},e.onSlotClick=function(t){var n=Number(t.target.dataset.slot);if(!isNaN(n)){var a=e.props.points;-1===a.indexOf(e.props.startUuid)?e.props.setStartUuid(a[n]):-1===a.indexOf(e.props.endUuid)&&e.props.setEndUuid(a[n])}},e.onHandleClick=function(e){},e.onUpdate=function(e){},e.onChange=function(t){var n=t.length>1?e.props.points[t[0]]:null,a=t.length>1?e.props.points[t[1]]:e.props.points[t[0]];n&&e.props.setStartUuid(n.owner),a&&e.props.setEndUuid(a.owner)},e.formatTicks=function(t){return e.props.points&&e.props.points[t]?e.props.points[t].shortName:""},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.points,n=this.props.startUuid,r=this.props.endUuid,s=[0,Math.max(t.length-1,.1)],o=[t.findIndex((function(e){return e.owner===n})),t.findIndex((function(e){return e.owner===r}))];return Object(a.jsx)("div",{style:{margin:"10%",height:60},children:Object(a.jsxs)(Fa.c,{mode:1,step:1,domain:s,rootStyle:{position:"relative",width:"100%"},onUpdate:this.onUpdate,onChange:this.onChange,values:o,children:[Object(a.jsx)(Fa.b,{children:function(e){var t=e.getRailProps;return Object(a.jsx)(Ma,{getRailProps:t})}}),Object(a.jsx)(Fa.a,{children:function(e){var t=e.handles,n=e.getHandleProps;return Object(a.jsx)("div",{className:"slider-handles",children:t.map((function(e){return Object(a.jsx)(Va,{handle:e,domain:s,getHandleProps:n},e.id)}))})}}),Object(a.jsx)(Fa.e,{left:!1,right:!1,children:function(e){var t=e.tracks,n=e.getTrackProps;return Object(a.jsx)("div",{className:"slider-tracks",children:t.map((function(e){var t=e.id,r=e.source,s=e.target;return Object(a.jsx)(Ha,{source:r,target:s,getTrackProps:n},t)}))})}}),Object(a.jsx)(Fa.d,{count:t.length,children:function(t){var n=t.ticks;return Object(a.jsx)("div",{className:"slider-ticks",children:n.map((function(t){return Object(a.jsx)(za,{tick:t,count:n.length,format:e.formatTicks},t.id)}))})}})]})})}}]),n}(s.a.Component),La=Object(c.b)(null,null)(Za),Ba=n(18),Pa=n.n(Ba),qa=n(118),Ka=n(6),Ga=n.n(Ka),Wa=n(67),Xa=n.n(Wa),Ya=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleShowHide=function(){a.setState({show:!a.state.show})},a.handleChangeTitle=function(e){var t=Object(re.a)({},a.state.note);t.note.title=e.target.value,a.setState({note:t})},a.handleChangeContent=function(e){var t=Object(re.a)({},a.state.note);t.note.content=e.target.value,a.setState({note:t})},a.handleLabels=function(e){a.setState({currentLabel:e.target.value})},a.toggleShowNote=function(){a.setState({showNote:!a.state.showNote})},a.toggleShowDetails=function(){a.setState({showDetails:!a.state.showDetails})},a.saveNote=Object(qa.a)(Pa.a.mark((function e(){var t;return Pa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(re.a)({},a.state.note),e.next=4,a.props.data.CRVIZ._SEARCH_KEY;case 4:return t.id=e.sent,e.next=7,a.setState({note:t});case 7:return e.next=9,a.props.addNote(a.state.note);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("No search key");case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),a.removeNote=Object(qa.a)(Pa.a.mark((function e(){var t;return Pa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(re.a)({},a.state.note),e.next=4,a.props.data.CRVIZ._SEARCH_KEY;case 4:t.id=e.sent,a.props.removeNote(a.state.note),a.resetBuilder(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("No note on search key");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),a.keyPressed=function(e){if("Enter"===e.key){var t=Object(re.a)({},a.state.note);t.note.labels.push(a.state.currentLabel),a.setState({note:t}),a.setState({currentLabel:""})}},a.componentDidUpdate=function(e){if(e.data!==a.props.data){var t=Object(re.a)({},a.state.note);t.id=a.props.data.CRVIZ._SEARCH_KEY,t.id in a.props.notes?a.setState({note:a.props.notes[t.id]}):a.resetBuilder()}},a.state=a.initialState,a.state=Object(re.a)(Object(re.a)({},Object(Ct.a)(a)),{},{show:!0}),a}return Object(u.a)(n,[{key:"resetBuilder",value:function(){this.setState(this.initialState)}},{key:"render",value:function(){var e=this,t=this.state.showNote,n=this.state.showDetails;return Object(a.jsx)(a.Fragment,{children:this.props.data&&Object(a.jsxs)("div",{className:this.state.show?Xa.a.show:Xa.a.hide,children:[Object(a.jsxs)("div",{children:[!this.state.show&&Object(a.jsxs)("p",{className:Xa.a.hidden,children:[Object(a.jsx)(m.a,{onClick:this.handleShowHide,icon:x.b})," "]}),this.state.show&&Object(a.jsx)("p",{className:Xa.a.shown,children:Object(a.jsx)(m.a,{onClick:this.handleShowHide,icon:x.c})})]}),!this.props.data.fieldValue&&Object(a.jsxs)("p",{className:Ga.a.accordionHeader,onClick:this.toggleShowDetails,children:["Details ",!n&&Object(a.jsx)(m.a,{icon:x.a}),n&&Object(a.jsx)(m.a,{icon:x.d})]}),n&&this.props.data&&!this.props.data.fieldValue&&Object(a.jsx)("div",{className:Xa.a.detailPanel,children:this.props.fields.map((function(t){return Object(a.jsxs)("p",{className:Xa.a.detailText,children:[Object(a.jsxs)("b",{children:[t.displayName,": "]}),Object(te.a)(t.path,e.props.data)," "]})}))}),this.props.data&&this.props.data.fieldValue&&Object(a.jsx)("div",{className:Xa.a.detailPanel,children:Object(a.jsxs)("h3",{children:[this.props.data.fieldValue," "]})}),!this.props.data.fieldValue&&Object(a.jsxs)("p",{className:Ga.a.accordionHeader,onClick:this.toggleShowNote,children:["Notes ",!t&&Object(a.jsx)(m.a,{icon:x.a}),t&&Object(a.jsx)(m.a,{onClick:this.toggleShowNote,icon:x.d})]}),t&&Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:Object(a.jsx)("h1",{children:Object(a.jsx)("input",{className:Xa.a.inputStyle,type:"text",value:this.state.note.note.title,onChange:this.handleChangeTitle,placeholder:"Title"})})}),Object(a.jsx)("p",{children:Object(a.jsx)("textarea",{className:Xa.a.inputStyle,type:"text",value:this.state.note.note.content,onChange:this.handleChangeContent,placeholder:"Take a note..."})}),Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsx)("label",{className:"button circular",onClick:this.saveNote,children:Object(a.jsx)(m.a,{style:{margin:"2.5px"},icon:x.q})}),Object(a.jsx)("label",{className:"button circular",onClick:this.removeNote,children:Object(a.jsx)(m.a,{style:{margin:"2.5px"},icon:x.w})})]})]})]})})}},{key:"initialState",get:function(){return{label:"Labels",height:"200px",width:"300px",position:[200,200],currentLabel:"",showNote:!1,showDetails:!0,note:{id:"",note:{title:"",labels:[],content:""}}}}}]),n}(s.a.Component),Ja={addNote:S.a,removeNote:S.g},Qa=Object(c.b)((function(e){return{position:Object(C.c)(e),data:Object(C.d)(e),notes:Object(S.f)(e),fields:Object(y.m)(e).fields}}),Ja)(Ya),$a=n(248);O.a.setAppElement("#root");var er="import",tr="export",nr={action:"",data:!0,controls:!0,notes:!0},ar=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).componentDidUpdate=function(e){a.state.resetNodeStyles&&a.setState({resetNodeStyles:!1})},a.toggleShowData=function(){a.setState({showData:!a.state.showData,showComparison:!1,showNotes:!1,showGrouping:!1,showFiltering:!1})},a.toggleShowComparison=function(){a.setState({showData:!1,showComparison:!a.state.showComparison,showGrouping:!1,showFiltering:!1})},a.toggleShowNotes=function(){a.setState({showData:!1,showComparison:!1,showNotes:!a.state.showNotes,showGrouping:!1,showFiltering:!1})},a.toggleShowGrouping=function(){a.setState({showData:!1,showComparison:!1,showGrouping:!a.state.showGrouping,showFiltering:!1})},a.toggleShowFiltering=function(){a.setState({showData:!1,showComparison:!1,showGrouping:!1,showFiltering:!a.state.showFiltering})},a.onErrorClose=function(){a.props.clearError()},a.resetControls=function(){a.props.colorBy(null),a.props.setHierarchyConfig([]),a.props.showNodes(!0),a.setState({resetNodeStyles:!0})},a.showImportOptions=function(){a.showOptions(er)},a.showExportOptions=function(){a.showOptions(tr)},a.showOptions=function(e){a.setOptions("action",e),a.setState({showOptions:!0})},a.processOptions=function(){a.state.options.action===er&&(a.props.showBusy(!0),a.state.selectedFile&&a.props.uploadDataset({owner:Object(g.a)(),file:a.state.selectedFile,includeData:a.state.options.data,includeControls:a.state.options.controls,includeNotes:a.state.options.notes}),a.setState({showOptions:!1}))},a.onUpload=function(e){a.setState({selectedFile:e})},a.getDownloadUrl=function(){var e=a.state.options.data&&a.props.fullDatasets,t=a.state.options.controls&&a.props.controls,n=a.state.options.notes&&a.props.notes,r=a.state.options.data&&a.props.keyFields,s=a.state.options.data&&a.props.ignoredFields,o=Ca(e,r,s,t,n),i=window.URL||window.webkitURL||window,c=JSON.stringify(o,null,2),l=new Blob([c],{type:"application/json"});return i.createObjectURL(l)},a.exportNameChange=function(e){a.setState({exportName:e})},a.cancelOptions=function(){a.setState({showOptions:!1,options:nr})},a.setOptions=function(e,t){var n=a.state.options;n[e]=t,a.setState({options:n})},a.addDatasetEntry=function(){var e=a.state.uuids,t={owner:Object(g.a)(),name:"Series "+e.length,shortName:"s"+e.length};e.push(t),a.setState({uuids:e,datasetAdded:!0})},a.removeDatasetEntry=function(e){var t=a.state.uuids;if(t.includes(e)){var n=t.splice(t.indexOf(e),1);a.setState({uuids:n})}a.props.removeSearchIndex({owner:e}),a.props.removeDataset({owner:e})},a.setStartUuid=function(e){a.setState({startUuid:e}),a.props.setStartDataset(e)},a.setEndUuid=function(e){a.setState({endUuid:e}),a.props.setEndDataset(e)};var r=new URL(window.location),s=new URLSearchParams(r.search),o=s.get("dataSourceUrl"),i={name:s.get("dataSourceName")||o||"",url:o};return a.state={showData:!0,showGrouping:!1,showFiltering:!1,uuids:[{owner:Object(g.a)(),name:"Series 0",shortName:"s0"}],datasetAdded:!1,startUuid:null,endUuid:null,showOptions:!1,options:{action:"",data:!0,controls:!0,notes:!0},selectedFile:null,exportName:"dataset.json",initialDataSource:o?i:null,resetNodeStyles:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e,t,n,r,s,o,i,c,d,u,h=this,p=this.props,b=p.datasetCount,j=p.darkTheme,y=p.error,C=p.lastUpdated,S=b>0,w=this.state.uuids,_=this.state.startUuid,N=this.state.endUuid,k=this.state.showData,A=this.state.showComparison,I=this.state.showNotes,R=this.state.showGrouping,D=this.state.showOptions,E=this.state.options,F=this.state.initialDataSource;return Object(a.jsxs)("div",{className:f()((e={},Object(l.a)(e,Ga.a.appContainer,!0),Object(l.a)(e,"darkTheme",j),e)),children:[Object(a.jsx)("input",{name:"hideControls",id:"hideControls",type:"checkbox"}),Object(a.jsx)("label",{htmlFor:"hideControls",className:Ga.a.hideControls,children:Object(a.jsx)("span",{children:"<<"})}),Object(a.jsxs)("div",{className:Ga.a.controls,children:[Object(a.jsx)(P,{}),Object(a.jsx)("div",{className:f()(Object(l.a)({},Ga.a.centerSpan,!0)),children:Object(a.jsx)("div",{className:"button circular",title:"Reset Controls",size:"3x",onClick:this.resetControls,children:Object(a.jsx)(m.a,{icon:x.l})})}),Object(a.jsxs)("div",{className:Ga.a.accordionHeader,onClick:this.toggleShowData,children:["Data  ",!k&&Object(a.jsx)(m.a,{icon:x.a}),k&&Object(a.jsx)(m.a,{onClick:this.toggleShowData,icon:x.d})]}),Object(a.jsxs)("div",{className:f()((t={},Object(l.a)(t,Ga.a.section,!0),Object(l.a)(t,Ga.a.hidden,!k),t)),children:[w.map((function(e){return Object(a.jsx)("div",{children:Object(a.jsx)(Ea,{uuid:e.owner,name:e.name,shortName:e.shortName,removeDatasetEntry:h.removeDatasetEntry,removable:w.length>1,datasets:$a,initialDataSource:F})},e.owner+"_container")})),Object(a.jsx)("span",{className:Ga.a.centerSpan,children:Object(a.jsx)("div",{className:"button circular",title:"Add Dataset",onClick:this.addDatasetEntry,children:Object(a.jsx)(m.a,{icon:x.o})})})]}),S&&Object(a.jsx)("div",{className:f()((n={},Object(l.a)(n,Ga.a.section,!0),Object(l.a)(n,Ga.a.hidden,!k),n)),children:Object(a.jsx)(yt,{})}),Object(a.jsxs)("div",{className:Ga.a.accordionHeader,onClick:this.toggleShowGrouping,children:["Grouping  ",!R&&Object(a.jsx)(m.a,{icon:x.a}),R&&Object(a.jsx)(m.a,{onClick:this.toggleShowGrouping,icon:x.d})]}),S&&Object(a.jsx)("div",{className:f()((r={},Object(l.a)(r,Ga.a.section,!0),Object(l.a)(r,Ga.a.hierarchySection,!0),Object(l.a)(r,Ga.a.hidden,!R),r)),children:Object(a.jsx)(Re,{})}),S&&Object(a.jsx)("div",{className:f()((s={},Object(l.a)(s,Ga.a.section,!0),Object(l.a)(s,Ga.a.hidden,!R),s)),children:Object(a.jsx)(lt,{})}),!S&&Object(a.jsx)("div",{className:f()((o={},Object(l.a)(o,Ga.a.section,!0),Object(l.a)(o,Ga.a.dimSection,!0),Object(l.a)(o,Ga.a.hierarchySection,!0),Object(l.a)(o,Ga.a.hidden,!R),o)),children:"Please select a dataset to continue"}),Object(a.jsxs)("div",{className:Ga.a.accordionHeader,onClick:this.toggleShowComparison,children:["Comparison  ",!A&&Object(a.jsx)(m.a,{icon:x.a}),A&&Object(a.jsx)(m.a,{onClick:this.toggleShowComparison,icon:x.d})]}),b>=2&&Object(a.jsx)("div",{className:f()((i={},Object(l.a)(i,Ga.a.section,!0),Object(l.a)(i,Ga.a.hierarchySection,!0),Object(l.a)(i,Ga.a.hidden,!A),i)),children:Object(a.jsx)(Ke,{startUid:_,endUid:N})}),b<2&&Object(a.jsx)("div",{className:f()((c={},Object(l.a)(c,Ga.a.section,!0),Object(l.a)(c,Ga.a.dimSection,!0),Object(l.a)(c,Ga.a.hierarchySection,!0),Object(l.a)(c,Ga.a.hidden,!A),c)),children:"Please select at least 2 datasets to continue"}),Object(a.jsxs)("div",{className:Ga.a.accordionHeader,onClick:this.toggleShowNotes,children:["Notes  ",!I&&Object(a.jsx)(m.a,{icon:x.a}),I&&Object(a.jsx)(m.a,{onClick:this.toggleShowNotes,icon:x.d})]}),I&&Object(a.jsx)("div",{children:Object(a.jsx)(Qe,{})}),Object(a.jsx)("div",{className:Ga.a.footerContainer,children:Object(a.jsxs)("span",{className:Ga.a.centerSpan,children:[Object(a.jsx)("div",{className:"button circular",title:"Import Dataset",onClick:this.showImportOptions,children:Object(a.jsx)(m.a,{icon:x.k})}),Object(a.jsx)("div",{className:"button circular",disabled:!S,title:"Export Dataset",onClick:this.showExportOptions,children:Object(a.jsx)(m.a,{icon:x.j})})]})})]}),0===b&&null!==C&&Object(a.jsx)("div",{className:Ga.a.emptyDataset,children:Object(a.jsx)("span",{children:"Current dataset is empty"})}),Object(a.jsx)("div",{className:Ga.a.canvas,children:Object(a.jsx)(ca,{startUid:_,endUid:N,resetNodeStyles:this.state.resetNodeStyles})}),Object(a.jsx)("div",{className:f()((d={},Object(l.a)(d,Ga.a.key,!0),Object(l.a)(d,Ga.a.hidden,b<2),d)),children:Object(a.jsxs)("svg",{width:"100%",height:"60",children:[Object(a.jsxs)("g",{children:[Object(a.jsx)("g",{className:"viz-isAdded-fixed",children:Object(a.jsx)("circle",{cx:"15",cy:"15",r:"10"})}),Object(a.jsx)("text",{x:"30",y:"15",children:"Added"})]}),Object(a.jsxs)("g",{children:[Object(a.jsx)("g",{className:"viz-isChanged-fixed",children:Object(a.jsx)("circle",{cx:"100",cy:"15",r:"10"})}),Object(a.jsx)("text",{x:"115",y:"15",children:"Changed"})]}),Object(a.jsxs)("g",{children:[Object(a.jsx)("g",{className:"viz-isRemoved-fixed",children:Object(a.jsx)("circle",{cx:"200",cy:"15",r:"10"})}),Object(a.jsx)("text",{x:"215",y:"15",children:"Removed"})]})]})}),Object(a.jsx)("div",{className:f()((u={},Object(l.a)(u,Ga.a.sliderContainer,!0),Object(l.a)(u,Ga.a.hidden,b<2),u)),children:Object(a.jsx)(La,{points:w,startUuid:_,endUuid:N,setStartUuid:this.setStartUuid,setEndUuid:this.setEndUuid})}),Object(a.jsx)(O.a,{isOpen:null!==y,onRequestClose:this.onErrorClose,contentLabel:"An Error has occurred",children:Object(a.jsx)("div",{className:Ga.a.modal,children:Object(a.jsxs)("div",{className:Ga.a.modalMain,children:[Object(a.jsxs)("span",{className:Ga.a.justifySpan,children:[Object(a.jsx)("div",{className:Ga.a.icon,title:"Error",children:Object(a.jsx)(m.a,{icon:x.g,size:"7x",color:"#cc0000"})}),Object(a.jsx)("div",{children:y?y.message:""})]}),Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:Ga.a.centerSpan,children:Object(a.jsx)("div",{className:"button circular",title:"Ok",onClick:this.onErrorClose,children:Object(a.jsx)(m.a,{icon:x.e})})})})]})})}),Object(a.jsx)(O.a,{isOpen:D,onRequestClose:this.cancelOptions,contentLabel:"An Error has occurred",children:Object(a.jsx)("div",{className:Ga.a.modal,children:Object(a.jsxs)("div",{className:Ga.a.modalMain,children:[E.action===er&&Object(a.jsxs)("div",{className:Ga.a.uploadContainer,children:[Object(a.jsx)("span",{className:Ga.a.label,children:"Upload"}),Object(a.jsx)(Oa,{ownerUuid:Object(g.a)(),className:Ga.a.fileUpload,selected:this.state.selectedFile?this.state.selectedFile.name:null,onChange:this.onUpload})]}),E.action===tr&&Object(a.jsxs)("div",{className:Ga.a.uploadContainer,children:[Object(a.jsx)("span",{className:Ga.a.label,children:"Export As"}),Object(a.jsx)("input",{type:"text",id:"export-as",value:this.state.exportName,onChange:function(e){return h.exportNameChange(e.target.value)}})]}),Object(a.jsxs)("div",{className:Ga.a.container,children:[Object(a.jsxs)("div",{className:"".concat(Ga.a.checkboxContainer," input-group"),children:[Object(a.jsxs)("div",{className:Ga.a.switch,children:[Object(a.jsx)("input",{type:"checkbox",id:"data-check",checked:E.data,onChange:function(e){return h.setOptions("data",e.target.checked)}}),Object(a.jsx)("label",{htmlFor:"data-check",className:Ga.a.switchLabel})]}),Object(a.jsx)("label",{children:"Data"})]}),Object(a.jsxs)("div",{className:"".concat(Ga.a.checkboxContainer," input-group"),children:[Object(a.jsxs)("div",{className:Ga.a.switch,children:[Object(a.jsx)("input",{type:"checkbox",id:"controls-check",checked:E.controls,onChange:function(e){return h.setOptions("controls",e.target.checked)}}),Object(a.jsx)("label",{htmlFor:"controls-check",className:Ga.a.switchLabel})]}),Object(a.jsx)("label",{children:"Controls"})]}),Object(a.jsxs)("div",{className:"".concat(Ga.a.checkboxContainer," input-group"),children:[Object(a.jsxs)("div",{className:Ga.a.switch,children:[Object(a.jsx)("input",{type:"checkbox",id:"notes-check",checked:E.notes,onChange:function(e){return h.setOptions("notes",e.target.checked)}}),Object(a.jsx)("label",{htmlFor:"notes-check",className:Ga.a.switchLabel})]}),Object(a.jsx)("label",{children:"Notes"})]})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("span",{className:Ga.a.centerSpan,children:[E.action===er&&Object(a.jsx)("div",{className:"button circular",title:"Ok",disabled:E.action===er&&!this.state.selectedFile,onClick:this.processOptions,children:Object(a.jsx)(m.a,{icon:x.e})}),E.action===tr&&Object(a.jsx)("a",{className:"button circular",href:this.getDownloadUrl(),download:this.state.exportName,title:"Download",disabled:!S,onClick:this.cancelOptions,children:Object(a.jsx)(m.a,{icon:x.e})}),Object(a.jsx)("div",{className:"button circular",title:"Cancel",onClick:this.cancelOptions,children:Object(a.jsx)(m.a,{icon:x.u})})]})})]})})}),Object(a.jsx)("div",{className:Ga.a.activityIndicatorContainer,children:Object(a.jsx)(v.RingLoader,{sizeUnit:"px",size:150,color:"#0277BD",loading:this.props.shouldShowBusy})}),Object(a.jsx)("div",{children:Object(a.jsx)(Qa,{})})]})}}]),n}(r.Component);ar.getDerivedStateFromProps=function(e,t){var n=t.datasetAdded&&e.uuids.length!==t.uuids.length,a=function(e,t,n){var a=[];if(e||0===n.length){var r=new Set;n.concat(t).forEach((function(e){r.has(e.owner)||(r.add(e.owner),a.push(e))}))}else a=n;return a}(n,t.uuids,e.uuids),r=e.startUuid&&-1!==a.findIndex((function(t){return t.owner===e.startUuid}))?e.startUuid:t.startUuid,s=e.endUuid&&-1!==a.findIndex((function(t){return t.owner===e.endUuid}))?e.endUuid:t.endUuid;return{uuids:a,startUuid:r,endUuid:s,datasetAdded:n}};var rr={clearError:w.a,setHierarchyConfig:C.h,showNodes:C.m,colorBy:C.a,removeDataset:y.i,removeSearchIndex:_.f,setStartDataset:C.k,setEndDataset:C.g,uploadDataset:T,showBusy:C.l},sr=Object(c.b)((function(e){var t=Object(y.l)(e),n=Object.keys(t).map((function(e){return{owner:e,name:t[e].name,shortName:t[e].shortName}}))||[{owner:Object(g.a)(),name:"Series 0",shortName:"s0"}],a=n.length,r=Object(C.e)(e);return{datasetCount:a,darkTheme:r.darkTheme,error:Object(w.c)(e),lastUpdated:Object(y.h)(e,n[0]),uuids:n,startUuid:r.start,endUuid:r.end,fullDatasets:t,controls:r,notes:Object(S.c)(e),keyFields:Object(y.g)(e),ignoredFields:Object(y.e)(e),shouldShowBusy:r.showBusy}}),rr)(ar),or=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ir(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var cr,lr=n(46),dr=n(531),ur=n(161),hr=n(250),pr=n.n(hr),br=Object(N.a)("SET_FILTER"),fr=Object(N.a)("CLEAR_FILTER"),jr=Object(ur.a)((cr={},Object(l.a)(cr,br,(function(e,t){var n=t.payload,a=null,r=!1;try{a=pr()(n),r=!0}catch(s){a=null,r=!1}return Object(re.a)(Object(re.a)({},e),{},{filterString:n,filter:a,isValid:r})})),Object(l.a)(cr,fr,(function(e){return Object(re.a)(Object(re.a)({},e),{},{filterString:"",filter:null,isValid:!1})})),cr),{filterString:"",filter:null,isValid:!1}),Or=jr,gr=Object(lr.c)({dataset:y.c,search:_.g,controls:C.b,error:w.b,filter:Or,notes:S.b}),vr=n(535),mr=n(251),xr=Object(N.a)("FILTER_DATASET"),yr=function(e,t){e.filtered=null;var n=e.dataset;return null!==t&&(e.filtered=n.filter((function(e){return t(e)}))),e},Cr=function(e,t){return e.ofType(xr.toString()).pipe(Object(I.a)((function(e){var n=e.payload,a=t.value.filter.filter;return null===a?Object(mr.a)():Object(k.a)(n).pipe(Object(ht.a)(yr(n,a)),Object(D.a)((function(e){return Object(y.r)({owner:e.owner,filtered:e.filtered})})),Object(E.a)((function(e){var t=new Error("Error filtering dataset: "+e.message);return Object(k.a)(Object(w.d)(t))})))})))},Sr=Object(vr.a)(F.b,la.b,V,jt,_.b,ba,Cr,Ue),wr=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||lr.d,_r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(dr.a)(),n=Object(lr.e)(gr,e,wr(Object(lr.a)(t)));return t.run(Sr),n}();i.a.render(Object(a.jsx)(c.a,{store:_r,children:Object(a.jsx)(sr,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/CRviz",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/CRviz","/service-worker.js");or?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ir(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):ir(e)}))}}()},5:function(e,t,n){"use strict";n.d(t,"q",(function(){return E})),n.d(t,"o",(function(){return F})),n.d(t,"j",(function(){return G})),n.d(t,"l",(function(){return K})),n.d(t,"i",(function(){return M})),n.d(t,"r",(function(){return T})),n.d(t,"m",(function(){return W})),n.d(t,"n",(function(){return X})),n.d(t,"d",(function(){return k})),n.d(t,"a",(function(){return R})),n.d(t,"t",(function(){return z})),n.d(t,"f",(function(){return Y})),n.d(t,"u",(function(){return Z})),n.d(t,"g",(function(){return Q})),n.d(t,"s",(function(){return L})),n.d(t,"e",(function(){return $})),n.d(t,"h",(function(){return J})),n.d(t,"p",(function(){return U})),n.d(t,"k",(function(){return ee})),n.d(t,"b",(function(){return D}));var a,r=n(31),s=n(28),o=n(3),i=n(2),c=n(43),l=n(16),d=n(161),u=n(113),h=n(492),p=n(160),b=n(45),f=n(484),j=n(485),O=n(494),g=n(486),v=n(495),m=n(487),x=n(189),y=n(493),C=n(488),S=n(190),w={owner:"",source:null,name:"",shortName:"",dataset:[],keyCount:0,uniqueKeyCount:0,filtered:null,values:{},configuration:{fields:[],keyFields:[],hashFields:[]},isFetching:!1,lastUpdated:null},_=function(e,t){return t&&0!==t.length?e.filter((function(e){return!t.includes(e)})):e},N=function(e,t){var n=[];e.forEach((function(e){"CRVIZ"in e||(e.CRVIZ={}),t.hashFields||(t.hashFields=_(t.fields,t.ignoredFields||[])),function(e,t){var n=e.reduce((function(e,n){return e+Object(u.a)(n.path,t)+":"}),"");t.CRVIZ._HASH_KEY=n}(Array.isArray(t.keyFields)&&t.keyFields.length>0?t.keyFields:t.hashFields,e),function(e,t){var n=e.reduce((function(e,n){return e+Object(u.a)(n.path,t)+"|"}),"");t.CRVIZ._HASH_WITHOUT_IGNORED=n}(t.hashFields,e),function(e,t){var n=e.reduce((function(e,n){return e+Object(u.a)(n.path,t)+":"}),"");t.CRVIZ._SEARCH_KEY=n}(t.fields,e),n.push(e.CRVIZ._HASH_KEY)}));var a=Array.from(new Set(n));return{keyCount:n.length,uniqueKeyCount:a.length}},k=function(e){return e.path.length>=1&&e.path[0]?e.path.join("."):" "},A=function e(t){return Object(h.a)((function(t){var n=Object(c.a)(t,2),a=n[0],r=n[1];return Object(p.a)(Object,r)?Object(b.a)(Object(f.a)([a]),e(r)):[[a]]}),Object(j.a)(t))},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=A(e).filter((function(e){return"CRVIZ"!==e[0]}));return Object(b.a)((function(e){var n=Object(O.a)(Object(g.a)("path",e),t)||{};return Object(v.a)({path:e,displayName:e.join("."),groupable:!0},n)}),n)},R=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=I(e[0]||{},a.fields),s=_(r,n);return Object(i.a)(Object(i.a)({},a),{},{fields:I(e[0]||{},a.fields),keyFields:t,hashFields:s})},D=function(e,t,n,a,r,s,o){var i=R(e||[],s,o,r||{}),c=N(e,i);return{dataset:e,source:t,name:n,shortName:a,keyCount:c.keyCount,uniqueKeyCount:c.uniqueKeyCount,filtered:null,values:function(e,t){return Object(m.a)(Object(b.a)((function(t){var n=Object(x.a)(Object(b.a)(Object(u.a)(t.path)),y.a,Object(C.a)(S.a))(e);return[k(t),n]}),t.fields))}(e,i),configuration:i,isFetching:!1,lastUpdated:new Date}},E=Object(l.a)("SET_DATASETS"),F=Object(l.a)("SET_DATASET"),T=Object(l.a)("SET_FILTERED_DATASET"),U=Object(l.a)("SET_DATASET_DIFF"),M=Object(l.a)("REMOVE_DATASET"),V=Object(l.a)("REMOVE_FILTERED_DATASET"),H=Object(l.a)("REMOVE_DATASET_DIFF"),z=Object(l.a)("SET_IS_FETCHING"),Z=Object(l.a)("SET_KEY_FIELDS"),L=Object(l.a)("SET_IGNORED_FIELDS"),B=Object(d.a)((a={},Object(o.a)(a,E,(function(e,t){var n=t.payload.datasets;return Object.keys(n).forEach((function(t){e.datasets[t]=n[t]})),Object(i.a)({},e)})),Object(o.a)(a,F,(function(e,t){var n=t.payload,a=n.dataset,r=n.owner,s=n.source,o=n.name,c=n.shortName,l=n.configuration,d=Q(e),u=$(e);return e.datasets[r]=D(a,s,o,c,l,d,u),Object(i.a)({},e)})),Object(o.a)(a,T,(function(e,t){var n=t.payload,a=n.filtered,r=n.owner;return e.datasets[r].filtered=a,Object(i.a)({},e)})),Object(o.a)(a,U,(function(e,t){var n=t.payload,a=n.start,r=n.end,s=n.differences,o={start:a,end:r,differences:s},c=e.diffs.findIndex((function(e){return e.start===a&&e.end===r}));return-1===c?e.diffs.push(o):e.diffs[c]=o,Object(i.a)({},e)})),Object(o.a)(a,M,(function(e,t){var n=t.payload.owner;return e.datasets.hasOwnProperty(n)&&delete e.datasets[n],Object(i.a)({},e)})),Object(o.a)(a,V,(function(e,t){var n=t.payload.owner;return e.datasets.hasOwnProperty(n)&&(e.datasets[n].filtered=null),Object(i.a)({},e)})),Object(o.a)(a,H,(function(e,t){var n=t.payload,a=n.start,r=n.end,s=e.diffs.findIndex((function(e){return e.start===a&&e.end===r}));return-1!==s&&e.diffs.splice(s,1),Object(i.a)({},e)})),Object(o.a)(a,z,(function(e,t){var n=t.payload,a=n.owner,r=!!n.isFetching;return e.datasets.hasOwnProperty(a)&&(e.datasets[a].isFetching=r),Object(i.a)(Object(i.a)({},e),{},{isFetching:r})})),Object(o.a)(a,Z,(function(e,t){var n=t.payload,a=n||e.keyFields,r=P(e);return r&&Object.keys(r).forEach((function(e){var t=r[e];t.configuration.keyFields=a;var n=N(t.dataset,t.configuration),s=n.keyCount,o=n.uniqueKeyCount;t.keyCount=s,t.uniqueKeyCount=o})),Object(i.a)(Object(i.a)({},e),{},{keyFields:a})})),Object(o.a)(a,L,(function(e,t){var n=t.payload,a=n||e.ignoredFields,r=P(e);if(r&&a){var s=q(e).fields,o=_(s,a);Object.keys(r).forEach((function(e){var t=r[e];t.configuration.hashFields=o;var n=N(t.dataset,t.configuration),a=n.keyCount,s=n.uniqueKeyCount;t.keyCount=a,t.uniqueKeyCount=s}))}return Object(i.a)(Object(i.a)({},e),{},{ignoredFields:a})})),a),{datasets:{},diffs:[],keyFields:[],ignoredFields:[]}),P=function(e){return e.datasets||{}},q=function(e){var t=[],n=e.datasets;for(var a in n){var r,o=Object(s.a)(n[a].configuration.fields);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.some((function(e){return e.displayName===i.displayName}))||t.push(i)}}catch(c){o.e(c)}finally{o.f()}}return{fields:t}},K=function(e){return P(e.dataset)},G=function(e,t){return e.dataset&&e.dataset.datasets[t]&&e.dataset.datasets[t].dataset?e.dataset.datasets[t].dataset:w.dataset},W=function(e){return q(e.dataset)},X=function(e){var t={},n=e.dataset.datasets;for(var a in n)for(var s in n[a].values)if(t.hasOwnProperty(s)){var o=new Set([].concat(Object(r.a)(t[s]),Object(r.a)(n[a].values[s])));t[s]=Object(r.a)(o)}else t[s]=n[a].values[s];return t},Y=function(e,t){return e.dataset.datasets[t]&&e.dataset.datasets[t].isFetching?e.dataset.datasets[t].isFetching:w.isFetching},J=function(e,t){return e.dataset.datasets[t]&&e.dataset.datasets[t].lastUpdated?e.dataset.datasets[t].lastUpdated:w.lastUpdated},Q=function(e){return e.dataset&&e.dataset.keyFields?e.dataset.keyFields:[]},$=function(e){return e.dataset&&e.dataset.ignoredFields?e.dataset.ignoredFields:[]},ee=function(e,t,n){var a=[],r=G(e,t),s=G(e,n);return r.length>0&&0===s.length?(r.forEach((function(e){e.CRVIZ._isRemoved=!1,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1})),a=r):0===r.length&&s.length>0?(s.forEach((function(e){e.CRVIZ._isRemoved=!1,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1})),a=s):r.length>0&&s.length>0&&(r.forEach((function(e){e.CRVIZ._isRemoved=!1,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1;var t=s.findIndex((function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY}));e.CRVIZ._isRemoved=-1===t,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1,a.push(e)})),s.forEach((function(e){e.CRVIZ._isRemoved=!1,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1;var t=a.findIndex((function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY}));-1===t?(e.CRVIZ._isAdded=!0,a.push(e)):a[t].CRVIZ._HASH_WITHOUT_IGNORED!==e.CRVIZ._HASH_WITHOUT_IGNORED&&(a[t].CRVIZ._isChanged=!0)}))),a};t.c=B},58:function(e,t,n){e.exports={checkboxContainer:"MiscControls_checkboxContainer__3kBR3",colorBy:"MiscControls_colorBy__2SU5V",fieldSelect:"MiscControls_fieldSelect__38svo",switch:"MiscControls_switch__3UP8J",switchLabel:"MiscControls_switchLabel__3eKc8","switch-inner":"MiscControls_switch-inner__3WhMh",selectorContainer:"MiscControls_selectorContainer__3qDfQ",selector:"MiscControls_selector__1nfTG"}},6:function(e,t,n){e.exports={appContainer:"App_appContainer__3jRx1",controls:"App_controls__14oJX",section:"App_section__1OL6S",footerContainer:"App_footerContainer__3ckfD",dimSection:"App_dimSection__2KXnV",hierarchySection:"App_hierarchySection__20JSE",canvas:"App_canvas__1KgDx",sliderContainer:"App_sliderContainer__14eTy",hideControls:"App_hideControls__3-JKB",modal:"App_modal__Ayqb5",modalMain:"App_modalMain__2seCW",justifySpan:"App_justifySpan__39F6d",icon:"App_icon__NYH35",centerSpan:"App_centerSpan__-rZ5_",accordionHeader:"App_accordionHeader__3Xi4Q",hidden:"App_hidden__3ofBD",emptyDataset:"App_emptyDataset__29FeM",label:"App_label__v_mMj",selectorContainer:"App_selectorContainer__39_GX",selector:"App_selector__2sCEs",checkboxContainer:"App_checkboxContainer__1fO1K",switch:"App_switch__2FvpM",switchLabel:"App_switchLabel__2JZ5u","switch-inner":"App_switch-inner__ANiwX",uploadContainer:"App_uploadContainer__342xp",fileUpload:"App_fileUpload__3f4jm",activityIndicatorContainer:"App_activityIndicatorContainer__NjOjQ",key:"App_key__3Uk0T"}},67:function(e,t,n){e.exports={shown:"Tooltip_shown__1x1hM",hidden:"Tooltip_hidden__2CFes",show:"Tooltip_show__18BfZ",hide:"Tooltip_hide__70RqF",detailPanel:"Tooltip_detailPanel__2HY6a",detailText:"Tooltip_detailText__3Ofmt",inputStyle:"Tooltip_inputStyle__2DRWA",section:"Tooltip_section__3q14b"}},74:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return b}));var a=n(16),r=n(121),s=n(92),o=n(497),i=n(490),c=n(76),l=n(65),d=n(255),u=n(36),h=n(89),p=Object(a.a)("FETCH_DATASET"),b=function(t,n,a){var r=null;switch(function(e,t,n){var a="None";return n?a="Bearer":e&&t&&(a="Basic"),a}(t,n,a)){case"Basic":r={Authorization:"Basic "+new e("".concat(t,":").concat(n)).toString("base64")};break;case"Bearer":r={Authorization:"Bearer ".concat(a)};break;default:r=null}return r};t.b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.a;return e.pipe(Object(r.a)(p.toString()),Object(i.a)(500),Object(c.a)((function(e){var t=e.payload.owner,a=e.payload.name,r=e.payload.shortName,s=e.payload.url,o=e.payload.header;return n({url:s,headers:o,crossDomain:!0,responseType:"json"}).pipe(Object(l.a)((function(e){return{owner:t,name:a,shortName:r,source:s,content:e.response}})),Object(l.a)(h.c))})),Object(d.a)((function(e){var t=new Error("Error fetching dataset: "+e.message);return Object(s.a)(Object(u.d)(t))})))}}).call(this,n(453).Buffer)},77:function(e,t,n){e.exports={listContainer:"SelectedFieldList_listContainer__1A-lJ",isDropDisabled:"SelectedFieldList_isDropDisabled__2vQFW",droppable:"SelectedFieldList_droppable__2zu_b",draggable:"SelectedFieldList_draggable__2Cp8c",field:"SelectedFieldList_field__ZLF6f",groupBy:"SelectedFieldList_groupBy__2sKtj",animated:"SelectedFieldList_animated__39CvG",groupByEnter:"SelectedFieldList_groupByEnter__1cLtw",fieldName:"SelectedFieldList_fieldName__2G9oT",dropTarget:"SelectedFieldList_dropTarget__1J9ME",isDraggingOver:"SelectedFieldList_isDraggingOver__1k_Dr",dragHandle:"SelectedFieldList_dragHandle__2NjEJ"}},89:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return x}));var a=n(18),r=n.n(a),s=n(118),o=n(16),i=n(121),c=n(92),l=n(76),d=n(489),u=n(255),h=n(160),p=n(122),b=n(241),f=n(37),j=n(36),O=n(5),g=n(11),v=n(29),m=Object(o.a)("LOAD_DATASET"),x=function(e){var t=e.owner,n=e.source,a=e.file.trim().split(/[\r\n]+/g);if(a.length<2)return e;for(var r=function(e){for(var t=[",","|","\t",";"],n=0,a=-1,r=0;r<e.length;r++)a<e.split(t[r]).length-1&&(a=e.split(t[r]).length-1,n=r);return t[n]}(a[0]),s="[",o=a[0].split(r),i=1;i<a.length;i++){var c=a[i].split(r);if(c.length!==o.length)return e;s+="{ ";for(var l=0;l<o.length;l++)s+='"'+o[l]+'": "'+c[l]+'"',l<o.length-1?s+=", ":(s+=" }",i<a.length-1&&(s+=",\n"))}return{owner:t,source:n,file:s+="]"}},y=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,s,o,i,c,l,d,u,f,j,g,v,m,x,y;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.owner,a=t.name,s=t.shortName,o=t.source,e.next=6,Object(b.resolveRefs)(t.content);case 6:if(i=e.sent,c=i.resolved,l=c.datasets,d=c.keyFields||null,u=c.ignoredFields||null,f=c.controls||{},j=c.notes||{},g=!("includeData"in t)||t.includeData,v="includeControls"in t&&t.includeControls,m="includeNotes"in t&&t.includeNotes,x={},!l){e.next=21;break}x=l,e.next=37;break;case 21:if(Object(p.a)(c.dataset)||!Object(h.a)(Array,c.dataset)){e.next=26;break}x[n]={dataset:c.dataset},c.configuration&&(x[n].configuration=c.configuration),e.next=37;break;case 26:if(!Object(p.a)(c.dataset)||!Object(h.a)(Array,c)){e.next=30;break}x[n]={dataset:c},e.next=37;break;case 30:if(!Object(p.a)(c.dataset)){e.next=36;break}y={},Object.entries(c).forEach((function(e){var t=e[0],n=e[1];y[t]=n})),x[n]={dataset:[y]},e.next=37;break;case 36:throw C("Data in invalid format");case 37:return Object.keys(x).forEach((function(e,t){var n=x[e].dataset,r=n.name||a||"Series "+t,i=n.shortName||s||r.substr(0,1)+t,c=x[e].configuration;x[e]=Object(O.b)(n,o,r,i,c,d,u)})),t={datasets:g?x:{},keyFields:g?d:[],ignoredFields:g?u:[],controls:v?f:{},notes:m?j:{}},e.abrupt("return",t);case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function C(e){this.name="ValidationError",this.message=e}C.prototype=Object.create(Error.prototype),t.b=function(e,t){return e.pipe(Object(i.a)(m.toString()),Object(l.a)((function(e){var t=e.payload;return Object(c.a)(t).pipe(Object(d.a)(y),Object(l.a)((function(e){return Object(c.a)(Object(O.q)(e),Object(O.u)(e.keyFields),Object(O.s)(e.ignoredFields),Object(g.f)(e.controls),Object(v.i)(e.notes),Object(f.a)(e),Object(g.l)(!1))})),Object(u.a)((function(e){if(Object(h.a)(C,e))return Object(c.a)(Object(j.d)(e));throw e})))})))}},93:function(e,t,n){e.exports={header:"Header_header__15j4c",logo:"Header_logo__1XArl",appName:"Header_appName__2Yv_S",infoIcon:"Header_infoIcon__39h1E",infoPopup:"Header_infoPopup__1SjWm",tagline:"Header_tagline__3GO5z",socialContainer:"Header_socialContainer__2-vMl"}}},[[483,1,2]]]);
//# sourceMappingURL=main.c5e620f7.chunk.js.map